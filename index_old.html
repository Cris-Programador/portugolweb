<!DOCTYPE html>
<html>
<head> 

  <title>Portugol Web</title>
	
  <!-- HTML Meta Tags -->
  <meta charset="utf-8">
  <meta lang="pt-br">
  <meta name="author" content="Erick L. Weil">
  <meta name="theme-color" content="#08ecbc">
  <meta name="description" content="Utilize o portugol diretamente do seu navegador!">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://erickweil.github.io/portugolweb/">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Portugol Web">
  <meta property="og:site_name" content="Portugol Web">
  <meta property="og:description" content="Utilize o portugol diretamente do seu navegador!">
  <meta property="og:locale" content="pt-br">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="erickweil.github.io">
  <meta property="twitter:url" content="https://erickweil.github.io/portugolweb/">
  <meta name="twitter:title" content="Portugol Web">
  <meta name="twitter:description" content="Utilize o portugol diretamente do seu navegador!">
  
	<link rel="stylesheet" type="text/css" href="portugol.css">
</head>
<body style="margin:0">
<!--<div id="EditorContainer" style="position:relative;width:100%;height:500px;margin:0;padding:0;overflow:none">-->
<!--

o que falta:
- tratar erros de execução:
	- no leia quando entrada não é válida
	- de divisão por zero
	
- escolha-caso
- vetores e matrizes
- passar argumentos por referência
- passar vetores e matrizes como argumentos

Portugol web no celular
- Utilização:
	OK Executar como um bottomsheetdialog
	OK porcentagem na barra de caracteres
	OK Perguntar antes de sair( ao recarregar a página por exemplo )
	<Atualizar resolveu> Selecionar o texto não funciona no celular
	<Atualizar resolveu>- Desfazer e Refazer
		- Opç
	- Salvar códigos em cookies, para não perder o trabalho por acidente
	- Janela de salvar ao clicar em salvar
	- Opção do Tema claro
	OK Editor não utiliza espaçamentos com TAB por padrão.
	- Popup de sugestões
	
- Exibição de erros:
	- retorne em função sem retorno, exibir erro correto
	- Utilizar uma variável que não é vetor como vetor apresenta undefined dimensões



- Bibliotecas

	funcao hhh()
	{
		inteiro a
		escreva("insira um valor:")
		leia(a)
		escreva("você inseriu:"+a+"\n\n")
		inteiro v
		//          5 * 5 + 2 * 3, ... (5 * 5) + (2 * 3) = 25 + 6 = 31
		v = 5 * 5 + 2 * 3
		escreva(v+" == 31\n")
		//           1 - - 1, ... 1 - (-1) = 2
		v = 1 - - 1
		escreva(v+" == 2\n")
		//           -1 + 1,  ... (-1) + 1 = 0
		v = -1 + 1
		escreva(v+" == 0\n")
		//           - -1 + 1,  ... (-(-1)) + 1 = 2
		v = - -1 + 1
		escreva(v+" == 2\n")
		//          - - -1 + 1,  ... (-(-(-1))) + 1 = 0
		v = - - -1 + 1
		escreva(v+" == 0\n")
		//   2 * 2 * 2 + 1 ... (2 * (2 * 2)) + 1 = 9
		v = 2 * 2 * 2 + 1
		escreva(v+" == 9\n")
		
		//  -a++ = -(a++)
		v = 1
		v = -v++
		escreva(v+" == -2\n")
	}
-->
<div id="myEditor">programa 
{
	funcao inicio()
	{
		escreva("Olá mundo \n")
	}
}
</div>
<!-- Canvas modo Gráfico -->
<div id="myCanvasModal">
<div id="myCanvasMiddle">
<div id="myCanvasWindow">
<div style="white-space: nowrap;">
<input type="button" value="Janela Sem Titulo" style="float:left;background: #1E2324;" id="myCanvasWindowTitle"/>
<input type="button" value="X" style="float:right;background: #1E2324;" onclick="executar(document.getElementById('btn-run'));"/>
</div>
<canvas tabindex="1" id="myCanvas" width="100" height="100"></canvas>
<div id="myCanvasKeys">
<!--<input type="button" value="A" style="background: #1E2324;">-->
</div>

</div>
</div>
</div>

<!-- Modal Exemplos -->
<div class="ModalFull" id="modalExemplos">
<div class="ModalInside">
<div class="ModalContent">
<div>
<input type="button" value="Exemplos" style="float:left;background: #1E2324;" class="ModalTitle"/>
<input type="button" value="X" style="float:right;background: #1E2324;" onclick="document.getElementById('modalExemplos').style.display = 'none';"/>
</div>
<br/>
<div class="listaExemplos">
<h2 onclick="exemplo('branco');">Novo Programa em Branco</h2>
<hr style="border: 1px solid #01EABC;"/>
<details><summary><h2>Básico</h2></summary>
<h2 onclick="exemplo('variaveis');">Variáveis</h2>
<h2 onclick="exemplo('entrada');">Entrada de dados</h2>
</details><details><summary><h2>Operações Matemáticas</h2></summary>
</details><details><summary><h2>Desvios Condicionais</h2></summary>
<h2 onclick="exemplo('condicoes');">Condições</h2>
<h2 onclick="exemplo('repeticao');">Repetição</h2>
</details><details><summary><h2>Outros</h2></summary>
<h2 onclick="exemplo('vetores');">Vetores</h2>
<h2 onclick="exemplo('funcoes');">Funções</h2>
<h2 onclick="exemplo('bibliotecas');">Bibliotecas</h2>
<h2 onclick="exemplo('graficos');">Graficos</h2>
<h2 onclick="exemplo('slide_puzzle');">Slide Puzzle</h2>
<h2 onclick="exemplo('jogodavida');">Jogo da Vida</h2>
<h2 onclick="exemplo('internet');">Internet</h2>
<h2 onclick="exemplo('aleatorio');">Aleatorio</h2>
</details>

<hr style="border: 1px solid #01EABC;"/>
<span style="white-space:nowrap"><input id="check-mostrar-hotbar" style="height: 20px;" name="mostrar-hotbar" type="checkbox" onchange="toggleHotbar(this.checked);"/><label for="mostrar-hotbar">Mostrar Hotbar</label></span> 
<span style="white-space:nowrap"><input id="check-modo-turbo" style="height: 20px;" name="modo-turbo" type="checkbox" onchange="setModoTurbo(this);" title="Compila o código para Javascript, executa muito mais rápido. Só vai acelerar se não utilizar nenhuma função que pausa o código, como o leia ou o aguarde da biblioteca Util"/><label for="modo-turbo">Modo Turbo</label></span> 
<span style="white-space:nowrap"><input id="check-auto-completar" style="height: 20px;" name="auto-completar" type="checkbox" checked="true" onchange="setAutoCompleterState(this.checked);"/><label for="auto-completar">Auto-Completar</label></span> 
<!--
<hr class="mobileHidden" style="border: 1px solid #01EABC;"/>
<button class="mobileHidden" title="A TogetherJS possibilita a utilização em grupo de um site. Permitindo editar em conjunto, chat e muito mais" onclick="TogetherJS(this);return false;">Ativar TogetherJS</button>
-->
</div>
</div>
</div>
</div>

<div id="hotbar" class="portugol-buttons" style="width:100%">
<div id="myOutput_buttons" class="portugol-buttons" style="overflow-x:auto;white-space:nowrap;width: auto;">
<input type="button" id="btn-run" value="Executar" onclick="executar(this,false)" title="Executa o seu código"/>

<input tabindex="-1" id="btn-step" type="button" style="background-image: url(icons/step.png);" value=" " 
onmousedown="executarStepStart(this)" onmouseup="executarStepPause(this);" onmouseleave="executarStepPause(this);" 
title="Executa o código mostando linha a linha a cada clique"
/>

<input tabindex="-1" type="button" style="background-image: url(icons/FontPlus.png); cursor: zoom-in;" id="btn-fonteMaior" value=" " onclick="fonteAumentar()" onfocus="preventFocus(event)" title="Aumenta o tamanho da fonte"/>
<input tabindex="-1" type="button" style="background-image: url(icons/FontMinus.png); cursor: zoom-out;" id="btn-fonteMenor" value=" " onclick="fonteDiminuir()" onfocus="preventFocus(event)" title="Diminui o tamanho da fonte"/>
<input type="button" style="background-image: url(icons/save.png);" id="btn-salvar" value=" " onclick="save()" title="Baixa o código"/>
<input type="button" style="background-image: url(icons/open.png);"  id="btn-abrir" value=" " onclick="load()" title="Carrega um código"/>
<!--<input type="button" tabindex="-1" id="btn-mostrar-hotbar" value="Ocultar" onclick='toggleHotbar();' onfocus="preventFocus(event)"/>-->
<input type="button" id="btn-exemplos" value="Exemplos" onclick="document.getElementById('modalExemplos').style.display = 'table';"  title="Abre o menu inicial"/>

<!--<input type="button" id="btn-run" value="Modo Normal" onclick=""/>-->

<!--<input type="button" style="background-image: url(icons/full.png);" id="btn-abrir" value=" " onclick="openFullscreen(document.documentElement);"/> Isso não funcionava direito e no pc tem o F11-->
<!--<input type="button" id="btn-execErros" value="Ignorar Erros" onclick="check_execErros()"/>-->
</div>

<div id="hotbar_commands" style="overflow-x:auto;white-space:nowrap;width: auto;">
<input tabindex="-1" type="button" value="TAB" onclick="editorCommand(9)" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" style="background-image: url(icons/arrowL.png);" value=" " onclick="editorCommand(37)" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" style="background-image: url(icons/arrowR.png);" value=" " onclick="editorCommand(39)" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" style="background-image: url(icons/arrowU.png);" value=" " onclick="editorCommand(38)" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" style="background-image: url(icons/arrowD.png);" value=" " onclick="editorCommand(40)" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="DEL" onclick="editorCommand(46)" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" style="background-image: url(icons/undo.png);" value=" " onclick="editor.undo()" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" style="background-image: url(icons/redo.png);" value=" " onclick="editor.redo()" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" style="background-image: url(icons/autocomplete.png);" value=" " onclick="editor.execCommand('startAutocomplete');" onfocus="preventFocus(event)"/>
</div>
<div id="hotbar_keys" style="overflow-x:auto;white-space:nowrap;width: auto;">


<input tabindex="-1" type="button" value="+" onclick='editorType("+")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="-" onclick='editorType("-")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="*" onclick='editorType("*")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="/" onclick='editorType("/")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="\" onclick="editorType('\\')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="=" onclick='editorType("=")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value='"' onclick="editorType('&quot;')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="(" onclick="editorType('(')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value=")" onclick="editorType(')')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="{" onclick="editorType('{')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="}" onclick="editorType('}')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="[" onclick="editorType('[')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="]" onclick="editorType(']')" onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="%" onclick='editorType("%")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="'" onclick='editorType("&#39;")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value=":" onclick='editorType(":")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value=";" onclick='editorType(";")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value=">" onclick='editorType(">")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value=">=" onclick='editorType(">=")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="<" onclick='editorType("<")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="<=" onclick='editorType("<=")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="==" onclick='editorType("==")' onfocus="preventFocus(event)"/>
<input tabindex="-1" type="button" value="!=" onclick='editorType("!=")' onfocus="preventFocus(event)"/>

</div>
<div id="myOutput" style="position:relative;">
<div class="saida" id="saida"><div id="errorArea"></div><div class="saida" id="hidden"></div><textarea id="textAreaSaida" onclick="cursorToEnd(this)" onkeyup="cursorToEnd(this)" oninput="receiveInput(this)">??</textarea>

</div>

<!--<input type="button" value="mostrar bytecode" style="position:absolute;top:0px;right:0px;background:transparent;z-index: 5;border:none" onclick="document.getElementById('hidden').style.display = 'block';"/>-->
</div>
</div>

<script>
	function checkECMA6() {
		"use strict";

		if (typeof Symbol == "undefined") return false;
		try {
			eval("class Foo {}");
		} catch (e) { return false; }

		return true;
	}

	if (!checkECMA6()) {
		document.getElementsByTagName('body')[0].innerHTML = "<h1 style='color:#FFFFFF;'>Ops!</h1> <p style='padding:20px;color:#FFFFFF;'>Esta página depende de funcionalidades JavaScript ES6, porém seu navegador não é capaz de executar. <br/> Se você está usando o Aplicativo, experimente usar um navegador mais recente para abrir este link: <h2 style='padding:20px;'><a href='https://erickweil.github.io/portugolweb'>https://erickweil.github.io/portugolweb</a></h2> </p>";
		throw new Error("Esta página depende de funcionalidades JavaScript ES6, porém seu navegador não é capaz de executar.");
	}

</script>

<!-- coisinhas -->
<script src="js/extras.js"></script>

<script src="js/compiler/tokenizer.js"></script> <!-- Quebra o texto [para, , tokens, certinho]-->
<script src="js/compiler/parser.js"></script> <!-- pega os tokens e constroi a árvore -->

<!-- Bibliotecas -->
<script src="js/vm/libraries/Util.js"></script>
<script src="js/vm/libraries/Calendario.js"></script>
<script src="js/vm/libraries/Matematica.js"></script>
<script src="js/vm/libraries/Texto.js"></script>
<script src="js/vm/libraries/Tipos.js"></script>
<script src="js/vm/libraries/Graficos.js"></script>

<script src="js/vm/libraries/Mouse.js"></script>
<script src="js/vm/libraries/Teclado.js"></script>
<script src="js/vm/libraries/Objetos.js"></script>

<script src="js/vm/libraries/Internet.js"></script>

<script src="js/vm/vm.js"></script> <!-- executa o 'bytecode' -->
<script src="js/compiler/vmcompiler.js"></script> <!-- compila a árvore em 'bytecode' ( parecido com java só que não é java ) -->
<script src="js/compiler/jsgenerator.js"></script> <!-- gera javascript a partir da árvore ( apenas funções que não pausam por não usar leia, u.aguarde, g.renderizar ) -->

<!-- <script src="portugolrun.js"></script> <!-- A parte que gerencia a compilação e execução do código separado da interface -->

<!--<script src="treeview.js"></script>< ! - -  para visuzalizar a árvore -->
<script src="lib/ace-src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="lib/ace-src-min-noconflict/ext-language_tools.js"></script>
<script src="lib/ace-src-min-noconflict/ext-emmet.js"></script>
<script src="js/ace-editor/ace_portugol_completer.js"></script>

<!-- <script src="https://togetherjs.com/togetherjs-min.js"></script> <!-- Ferramenta Colaborativa... Não pode carregar depois tem que ser assim -->

<!--<script src="ace_portugol.js"></script>-->

<script src="js/index.js"></script>
<!--<script src="codetest.js"></script><!-- para testar -->
</html>