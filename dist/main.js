/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function a(e,t){return(t.substring(0,e).match(/\r?\n/g)||"").length+1}function r(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function i(e,t){for(var a=t;a<e.length;a++)a<e.length-1&&(e[a]=e[a+1]);e.pop()}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==n(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===n(i)?i:String(i)),r)}var i}e.r(t),e.d(t,{cursorToEnd:()=>pr,editor:()=>Ya,editorCommand:()=>cr,editorType:()=>ur,executar:()=>$a,executarStepPause:()=>tr,executarStepStart:()=>er,exemplo:()=>Wa,fonteAumentar:()=>ir,fonteDiminuir:()=>nr,load:()=>sr,preventFocus:()=>rr,preventFocusCanvas:()=>ar,receiveInput:()=>lr,save:()=>or,setAutoCompleterState:()=>Za,setModoTurbo:()=>Ka,toggleHotbar:()=>Qa});var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TOUCH_DELAY=80,this.events={},this.resetar()}var t,a;return t=e,(a=[{key:"resetar",value:function(){this.touches=new Array,this.numTouches=0,this.touchDownIssued=!1,this.touchDownDistance=0}},{key:"getTouchByID",value:function(e){for(var t=0;t<this.touches.length;t++)if(this.touches[t].id==e)return this.touches[t];return!1}},{key:"addEventListener",value:function(e,t){this.events[e]=t}},{key:"getFingerDistance",value:function(){if(2==this.touches.length){var e=this.touches[0],t=this.touches[1];return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}return 1}},{key:"touchstart",value:function(e){0==this.touches.length&&(this.touchDownIssued=!1,this.numTouches=0,this.touchDownDistance=0,this.touchDownPosition=!1);for(var t=0;t<e.touches.length;t++){var a=e.touches[t],r=this.getTouchByID(a.identifier);r?(r.x=a.pageX,r.y=a.pageY):this.touches.push({id:a.identifier,x:a.pageX,y:a.pageY})}this.touchDownIssued||(this.numTouches=Math.max(this.numTouches,this.touches.length));var i=this,n=this.numTouches;setTimeout((function(){i.touchDownIssued||i.numTouches!=n||(i.events.onTouchDown&&i.events.onTouchDown(i.getCenterTouchPos(),i.numTouches),i.touchDownIssued=!0)}),this.TOUCH_DELAY)}},{key:"touchmove",value:function(e){for(var t=0;t<e.changedTouches.length;t++){var a=e.changedTouches[t],r=this.getTouchByID(a.identifier);r.x=a.pageX,r.y=a.pageY}var i=this.getCenterTouchPos();if(this.touchDownIssued){if(2==this.touches.length&&this.touchDownDistance>50){var n=this.getFingerDistance()/this.touchDownDistance;n&&this.events.onTouchZoom&&this.events.onTouchZoom(i,n),this.touchDownDistance=this.getFingerDistance()}this.numTouches<=this.touches.length&&this.events.onTouchMove&&this.events.onTouchMove(i,this.numTouches)}else this.events.onTouchDown&&this.events.onTouchDown(i,this.numTouches),this.touchDownIssued=!0,this.touchDownDistance=this.getFingerDistance()}},{key:"touchend",value:function(e){for(var t=this.getCenterTouchPos(),a=0;a<e.changedTouches.length;a++){var r=e.changedTouches[a],n=this.getTouchByID(r.identifier);i(this.touches,this.touches.indexOf(n))}this.numTouches>0&&(this.touchDownIssued||(this.events.onTouchDown&&this.events.onTouchDown(t,this.numTouches),this.touchDownIssued=!0),this.events.onTouchUp&&this.events.onTouchUp(t,this.numTouches),this.numTouches=0)}},{key:"touchcancel",value:function(e){this.touchend(e)}},{key:"touchleave",value:function(e){this.touchend(e)}},{key:"getCenterTouchPos",value:function(){for(var e={x:0,y:0},t=0;t<this.touches.length;t++)e.x+=this.touches[t].x,e.y+=this.touches[t].y;return e.x/=this.touches.length,e.y/=this.touches.length,e}}])&&o(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==c(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===c(i)?i:String(i)),r)}var i}function p(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function l(e,t,a){for(var r="",i=0;i<t.length;i++){var n=t[i];if("\\"==n&&i<t.length-1){var o=t[i+1];"\\"==o?n="\\":"t"==o?n="\t":"n"==o?n="\n":o==a?n=a:e.erro(e.tokens[e.tokens.length-1],"Após inserir a barra invertida \\ você deve ter um desses: \\ (barra invertida), n (nova linha), t (tabulação), "+a+" (aspas)"),i++}r+=n}return r}document.createElement("div");var h="\n\t +-*/%><!=&|^~;,.{}()[]:\r",d=["programa","funcao","inclua","biblioteca","e","ou","nao","se","senao","enquanto","faca","para","escolha","caso","contrario","pare","retorne","vazio","const"],m=["inteiro","caracter","cadeia","real","logico"],f=["sep-ln","sep-tab","sep-space","sep-plus","sep-minus","sep-mul","sep-div","sep-rem","sep-gt","sep-lt","sep-not","sep-equals","sep-and","sep-or","sep-xor","sep-bnot","sep-semi","sep-colon","sep-dot","sep-bracesO","sep-bracesC","sep-parO","sep-parC","sep-squareO","sep-squareC","sep-real-colon","sep-carriage-return"],v=["\n","\t"," ","+","-","*","/","%",">","<","!","=","&","|","^","~",";",",",".","{","}","(",")","[","]",":","\r","","","","","","+=","-=","*=","/=","%=",">>=",">>",">=","<<=","<<","<=","!=","==","e","&=","ou","|=","^=","~=","++","--","","+","-","--\x3e","++","--","","","","",""];function y(e){return v[e-0]}function g(e){return 0+h.indexOf(e)}var _=51,b=57,E=32,x=54,T=52,A=58,S=33,k=55,C=34,w=35,L=36,O=37,j=39,I=40,R=42,M=43,D=10,F=44,P=11,N=45,B=46,U=12,V=47,z=48,G=13,q=49,H=14,J=15,X=18,Y=21,$=22,W=23,Q=24;function K(e){switch(e){case _:case E:case x:case 3:case T:case S:case k:case 4:case C:case 5:case w:case 6:case L:case 7:case O:case 38:case j:case 8:case I:case 41:case R:case 9:case M:case D:case F:case P:case N:case B:case U:case V:case z:case G:case q:case H:case 50:case J:return!0;default:return!1}}function Z(e){switch(e){case P:case E:case S:case C:case w:case L:case O:case I:case B:case z:case q:case 50:return!0;default:return!1}}function ee(e){switch(e){case _:case T:return 14;case b:case A:case x:case k:case D:case J:return 13;case 5:case 6:case 7:return 12;case 3:case 4:return 11;case 38:case 41:return 10;case 8:case j:case 9:case R:return 9;case M:case F:return 8;case U:return 7;case H:return 6;case G:return 5;case N:return 4;case V:return 3;case E:case S:case C:case w:case L:case O:case I:case P:case B:case z:case q:case 50:return 1;default:return 15}}function te(e){switch(e){case _:case T:case b:case A:case x:case k:case 3:case 4:case D:case J:return!0;default:return!1}}function ae(e){switch(e){case _:case T:return!0;default:return!1}}var re=63;function ie(e){return e>=0&&e<re}function ne(e){return 64+d.indexOf(e)}var oe=81;function se(e){return 96+m.indexOf(e)}var ce=96,ue=97,pe=98,le=99,he=100,de=101,me=106,fe=110,ve=111,ye=112;function ge(e){return e+5}function _e(e){return e+10}function be(e){return e>=ce&&e<=he}function Ee(e){switch(e){case ce:return"inteiro";case ue:return"caracter";case pe:return"cadeia";case le:return"real";case he:return"logico";case oe:return"vazio";case ve:return"vetor";case ye:return"matriz";case de:return"inteiro[]";case 102:return"caracter[]";case 103:return"cadeia[]";case 104:return"real[]";case 105:return"logico[]";case me:return"inteiro[][]";case 107:return"caracter[][]";case 108:return"cadeia[][]";case 109:return"real[][]";case fe:return"logico[][]";default:return e}}var xe=130,Te=131,Ae=132,Se=133,ke=134;function Ce(e){return(e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\t/g,"\\t")).replace(/\"/g,'\\"')).replace(/\'/g,"\\'")}var we=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=t,this.enviarErro=a,this.tokens=[]}var t,r;return t=e,(r=[{key:"erro",value:function(e,t){this.enviarErro?this.enviarErro(this.input,e,t,"sintatico"):console.log("ERRO NO TOKENIZER:",t)}},{key:"getRelevantTokens",value:function(){for(var e=[],t=0;t<this.tokens.length;t++)switch(this.tokens[t].id){case 0:case 2:case 1:case 128:case 129:break;default:e.push(this.tokens[t])}return e}},{key:"getTokenIndexAt",value:function(e){for(var t=0,a=0;a<this.tokens.length;a++){if(this.tokens[a].index>e)return t;t=a}return t}},{key:"getTokenIndexAtRowCol",value:function(e,t){for(var r=0,i=-1,n=0;n<this.tokens.length;n++){var o=this.tokens[n].index;if(a(o,this.input)==e&&-1==i&&(i=o),-1!=i){if(o-i>t)return r;r=n}}return r}},{key:"tokenize",value:function(){for(var e=0;e<this.input.length;e++){var t=this.input.charAt(e);if('"'==t||"'"==t){for(var a=e+1;a<this.input.length;a++){var r=this.input.charAt(a);if("\\"==r)a++;else if(r==t||"\n"==r){"\n"==r&&this.erro(this.tokens[this.tokens.length-1],"não fechou as aspas");break}}var i=this.input.substring(e+1,a);i=l(this,i,t),'"'==t?this.tokens.push({id:Ae,index:e,txt:i}):"'"==t&&(1!=i.length&&(this.erro(this.tokens[this.tokens.length-1],"o tipo caracter deve conter apenas uma letra ou número. mude para cadeia"),i.length>1&&(i=i.charAt(0))),this.tokens.push({id:Se,index:e,txt:i})),e=a}else if("/"==t&&"/"==this.input.charAt(e+1)){for(var n=e+1;n<this.input.length&&"\n"!=this.input.charAt(n);n++);var o=this.input.substring(e,n);this.tokens.push({id:128,index:e,txt:o}),e=n-1}else if("/"==t&&"*"==this.input.charAt(e+1)){for(var s=e+1;s<this.input.length&&("/"!=this.input.charAt(s)||"*"!=this.input.charAt(s-1));s++);var c=this.input.substring(e,s+1);this.tokens.push({id:129,index:e,txt:c}),e=s}else if(t>="0"&&t<="9"){for(var u=e+1;u<this.input.length;u++){var p=this.input.charAt(u);if(!/^[0-9A-Fa-f\.XxBb]$/.test(p))break}var f=this.input.substring(e,u);f.includes(".")?this.tokens.push({id:Te,index:e,txt:f}):this.tokens.push({id:xe,index:e,txt:f}),e=u-1}else if(/^[a-zA-Z_\$]$/.test(t)){for(var v=e,y=e+1;y<this.input.length;y++){var b=this.input.charAt(y);if(!/^[a-zA-Z0-9_\$]$/.test(b))break}var x=this.input.substring(e,y);e=y-1,d.indexOf(x)>-1?"nao"==x?this.tokens.push({id:D,index:v,txt:x}):"ou"==x?this.tokens.push({id:V,index:v,txt:x}):"e"==x?this.tokens.push({id:N,index:v,txt:x}):this.tokens.push({id:ne(x),index:v,txt:x}):m.indexOf(x)>-1?this.tokens.push({id:se(x),index:v,txt:x}):"verdadeiro"==x||"falso"==x?this.tokens.push({id:ke,index:v,txt:x}):this.tokens.push({id:re,index:v,txt:x})}else if(h.indexOf(t)>-1){var A=1,k=g(t),X=this.input.length>e+1?g(this.input.charAt(e+1)):-1,Y=this.input.length>e+2?g(this.input.charAt(e+2)):-1;3==k&&3==X?(k=_,A=2):3==k&&X==P&&(k=E,A=2),4==k&&4==X&&8==Y?(k=56,A=3):4==k&&4==X?(k=T,A=2):4==k&&X==P&&(k=S,A=2),5==k&&X==P&&(k=C,A=2),6==k&&X==P&&(k=w,A=2),7==k&&X==P&&(k=L,A=2),8==k&&8==X&&Y==P?(k=O,A=3):8==k&&8==X?(k=38,A=2):8==k&&X==P&&(k=j,A=2),9==k&&9==X&&Y==P?(k=I,A=3):9==k&&9==X?(k=41,A=2):9==k&&X==P&&(k=R,A=2),k==D&&X==P&&(k=M,A=2),k==P&&X==P&&(k=F,A=2),k==U&&X==U&&(k=N,A=2),k==U&&X==P&&(k=B,A=2),k==G&&X==G&&(k=V,A=2),k==G&&X==P&&(k=z,A=2),k==H&&X==P&&(k=q,A=2),k==J&&X==P&&(k=50,A=2),26==k&&0==X?(k=0,A=2):26==k&&(k=0),this.tokens.push({id:k,index:e,txt:this.input.substring(e,e+A)}),e+=A-1}else this.erro(this.tokens[this.tokens.length-1],"Remova o caracter '"+t+"', isso não deveria estar aqui")}return this.tokens}},{key:"formatHTML",value:function(){for(var e,t=1,a="<span class='code-ln' id='ln"+t+"'><span class='ln-n'>"+t+"</span>",r=0;r<this.tokens.length;r++){var i=this.tokens[r];switch(i.id){case 0:a+="\n</span><span class='code-ln' id='ln"+ ++t+"'><span class='ln-n'>"+t+"</span>";break;case Ae:a+="<span class='string-literal'>\""+i.txt+'"</span>';break;case Se:a+="<span class='string-literal'>'"+i.txt+"'</span>";break;case 1:case 2:a+=i.txt;break;case 128:a+="<span class='comment-line'>"+i.txt+"</span>";break;case 129:t+=(i.txt.match(/\r?\n/g)||"").length,a+="<span class='comment-line'>"+i.txt+"</span>";break;case xe:case Te:a+="<span class='numeric-literal'>"+i.txt+"</span>";break;default:(e=i.id)>=re&&e<=he?a+="<span class='w-"+i.txt+"'>"+i.txt+"</span>":ie(i.id)?a+="<span class='"+f[h.indexOf(i.txt)]+"'>"+i.txt+"</span>":a+=i.txt}}return a}}])&&u(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Oe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Le(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Le(i)?i:String(i)),r)}var i}var je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DIA_DOMINGO=1,this.DIA_SEGUNDA_FEIRA=2,this.DIA_TERÇA_FEIRA=3,this.DIA_QUARTA_FEIRA=4,this.DIA_QUINTA_FEIRA=5,this.DIA_SEXTA_FEIRA=6,this.DIA_SABADO=7,this.MES_JANEIRO=1,this.MES_FEVEREIRO=2,this.MES_MARCO=3,this.MES_ABRIL=4,this.MES_MAIO=5,this.MES_JUNHO=6,this.MES_JULHO=7,this.MES_AGOSTO=8,this.MES_SETEMBRO=9,this.MES_OUTUBRO=10,this.MES_NOVEMBRO=11,this.MES_DEZEMBRO=12,this.members={DIA_DOMINGO:{id:re,type:ce},DIA_SEGUNDA_FEIRA:{id:re,type:ce},DIA_TERÇA_FEIRA:{id:re,type:ce},DIA_QUARTA_FEIRA:{id:re,type:ce},DIA_QUINTA_FEIRA:{id:re,type:ce},DIA_SEXTA_FEIRA:{id:re,type:ce},DIA_SABADO:{id:re,type:ce},MES_JANEIRO:{id:re,type:ce},MES_FEVEREIRO:{id:re,type:ce},MES_MARCO:{id:re,type:ce},MES_ABRIL:{id:re,type:ce},MES_MAIO:{id:re,type:ce},MES_JUNHO:{id:re,type:ce},MES_JULHO:{id:re,type:ce},MES_AGOSTO:{id:re,type:ce},MES_SETEMBRO:{id:re,type:ce},MES_OUTUBRO:{id:re,type:ce},MES_NOVEMBRO:{id:re,type:ce},MES_DEZEMBRO:{id:re,type:ce},ano_atual:{id:Y,parameters:[],type:ce,jsSafe:!0},mes_atual:{id:Y,parameters:[],type:ce,jsSafe:!0},dia_mes_atual:{id:Y,parameters:[],type:ce,jsSafe:!0},dia_semana_abreviado:{id:Y,parameters:[{name:"dia",type:ce},{name:"maiusculas",type:he},{name:"minusculas",type:he}],type:ce,jsSafe:!0},dia_semana_atual:{id:Y,parameters:[],type:ce,jsSafe:!0},dia_semana_completo:{id:Y,parameters:[{name:"dia",type:ce},{name:"maiusculas",type:he},{name:"minusculas",type:he}],type:ce,jsSafe:!0},dia_semana_curto:{id:Y,parameters:[{name:"dia",type:ce},{name:"maiusculas",type:he},{name:"minusculas",type:he}],type:ce,jsSafe:!0},hora_atual:{id:Y,parameters:[{name:"formato24",type:he}],type:ce,jsSafe:!0},minuto_atual:{id:Y,parameters:[],type:ce,jsSafe:!0},segundo_atual:{id:Y,parameters:[],type:ce,jsSafe:!0},milisegundo_atual:{id:Y,parameters:[],type:ce,jsSafe:!0}},this.diasCompleto=["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],this.diasCurto=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],this.diasAbr=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]}var t,a;return t=e,(a=[{key:"resetar",value:function(){}},{key:"dia_semana_completo",value:function(e,t,a){return{value:0==t?this.diasCompleto[e-1].toUpperCase():0==a?this.diasCompleto[e-1].toLowerCase():this.diasCompleto[e-1]}}},{key:"dia_semana_curto",value:function(e,t,a){return{value:0==t?this.diasCurto[e-1].toUpperCase():0==a?this.diasCurto[e-1].toLowerCase():this.diasCurto[e-1]}}},{key:"dia_semana_abreviado",value:function(e,t,a){return{value:0==t?this.diasAbr[e-1].toUpperCase():0==a?this.diasAbr[e-1].toLowerCase():this.diasAbr[e-1]}}},{key:"milisegundo_atual",value:function(){return{value:(new Date).getMilliseconds()}}},{key:"segundo_atual",value:function(){return{value:(new Date).getSeconds()}}},{key:"minuto_atual",value:function(){return{value:(new Date).getMinutes()}}},{key:"hora_atual",value:function(e){return e?{value:(new Date).getHours()}:{value:(new Date).getHours()%12}}},{key:"dia_semana_atual",value:function(){return{value:(new Date).getDay()+1}}},{key:"dia_mes_atual",value:function(){return{value:(new Date).getDate()}}},{key:"mes_atual",value:function(){return{value:(new Date).getMonth()+1}}},{key:"ano_atual",value:function(){return{value:(new Date).getFullYear()}}}])&&Oe(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Ie=13,Re=20,Me=23,De=24,Fe=25,Pe=101,Ne=!1;function Be(e){Ne=e}var Ue=!1;function Ve(){return Ue}var ze=!1,Ge=0,qe=!1,He=0,Je=!1,Xe=0,Ye=!1,$e=!1,We=!1,Qe=!1,Ke=!1,Ze=!1;function et(){return Ze}var tt=!1,at=!1,rt=0,it=5e5,nt=0,ot=!1;function st(e,t,a){if(a>=e.length)return console.log("não deveria chamar o recursiveDeclareArray DENOVO!"),!1;var r=new Array(e[a]);if(a+1<e.length)for(var i=0;i<r.length;i++)r[i]=st(e,t,a+1);else for(var n=0;n<r.length;n++)r[n]=t;return r}function ct(){if(!tt)throw"Desconfigurado escreva() não pode executar";nt>1e3&&(nt=0,Ze="<MAIS DE 1000 ESCREVAS, REINICIANDO LOG...>\n");for(var e=0;e<arguments.length;e++)Ze+=e<0||arguments.length<=e?void 0:arguments[e];tt.value=Ze,tt.scrollTop=tt.scrollHeight,nt++}function ut(){Ze="",nt=0,tt&&(tt.value=Ze,tt.scrollTop=tt.scrollHeight)}function pt(){if(!tt)throw"Desconfigurado leia() não pode executar";var e=tt.value,t=e.substring(Ze.length,e.length);return t.endsWith("\n")&&(t=t.substring(0,t.length-1)),Ze=e,t}function lt(e,t){var a=We[t];if(!a||!a.bytecodeIndexes)return 0;var r=Object.keys(a.bytecodeIndexes);if(!r)return 0;for(var i=0,n=0;n<r.length;n++)r[n]<=e&&(i=a.bytecodeIndexes[r[n]]);return i}function ht(){return lt(Ge,Xe)}function dt(e){var t=function(){var e=We[Xe];if(e&&e.bytecodeIndexes)return{funcIndex:Xe,i:Ge};for(var t=Ye.length-1;t>=0;t--){var a=Ye[t].funcIndex;if((e=We[a])&&e.bytecodeIndexes)return{funcIndex:a,i:Ye[t].i}}return!1}(),a=0;t&&(a=lt(t.i,t.funcIndex)),ot?ot(at,{index:a},e,"exec"):console.log("ERRO NA VM:",e)}function mt(e){try{for(rt=0;;){if(++rt>e)return 2;var t=Ge,a=He,r=ze[Ge++];switch(r){case 1:qe[He++]=ze[Ge++];break;case 2:He--;break;case Re:qe[He]=qe[He-1],He++;break;case 47:var i=qe[He-1];qe[He-1]=qe[He-2],qe[He-2]=i;break;case 22:Je[ze[Ge++]]=qe[--He];break;case Me:qe[He++]=Je[ze[Ge++]];break;case 40:$e[ze[Ge++]]=qe[--He];break;case 41:qe[He++]=$e[ze[Ge++]];break;case 54:var n=ze[Ge++],o=ze[Ge++];qe[He++]=Ke[n][o];break;case 3:qe[He-2]=qe[He-2]+qe[He-1],He--;break;case 4:qe[He-2]=qe[He-2]-qe[He-1],He--;break;case 5:qe[He-2]=qe[He-2]*qe[He-1],He--;break;case 6:qe[He-2]=qe[He-2]/qe[He-1],He--;break;case 7:qe[He-2]=qe[He-2]%qe[He-1],He--;break;case 8:qe[He-2]=Math.trunc(qe[He-2]/qe[He-1]),He--;break;case 9:qe[He-2]=Math.trunc(qe[He-2]%qe[He-1]),He--;break;case 26:qe[He-2]=qe[He-2]<<qe[He-1],He--;break;case 27:qe[He-2]=qe[He-2]>>qe[He-1],He--;break;case 28:qe[He-2]=qe[He-2]^qe[He-1],He--;break;case 29:qe[He-2]=qe[He-2]&qe[He-1],He--;break;case 30:qe[He-2]=qe[He-2]|qe[He-1],He--;break;case 31:Ge=qe[He-2]==qe[He-1]?ze[Ge++]:Ge+1,He-=2;break;case 32:Ge=qe[He-2]!=qe[He-1]?ze[Ge++]:Ge+1,He-=2;break;case 33:Ge=qe[He-2]<qe[He-1]?ze[Ge++]:Ge+1,He-=2;break;case 34:Ge=qe[He-2]<=qe[He-1]?ze[Ge++]:Ge+1,He-=2;break;case 35:Ge=qe[He-2]>qe[He-1]?ze[Ge++]:Ge+1,He-=2;break;case 36:Ge=qe[He-2]>=qe[He-1]?ze[Ge++]:Ge+1,He-=2;break;case Ie:Ge=ze[Ge++];break;case 14:Ge=0==qe[--He]?ze[Ge++]:Ge+1;break;case 15:Ge=0!=qe[--He]?ze[Ge++]:Ge+1;break;case 16:Ge=qe[--He]<0?ze[Ge++]:Ge+1;break;case 17:Ge=qe[--He]>=0?ze[Ge++]:Ge+1;break;case 18:Ge=qe[--He]>0?ze[Ge++]:Ge+1;break;case 19:Ge=qe[--He]<=0?ze[Ge++]:Ge+1;break;case 55:for(var s=ze[Ge++],c=ze[Ge++],u=ze[Ge++],p=[],l=0;l<u;l++)p.push(qe[--He]);p.reverse();var h=Ke[s][c].apply(Ke[s],p);if(h){var d=h.value;if(void 0!==d&&("boolean"==typeof d&&(d=d?0:1),qe[He++]=d),void 0!==h.state&&4!=h.state)return 6==h.state&&(Ge=t,He=a),h.state}break;case 21:for(var m=ze[Ge++],f=ze[Ge++],v=[],y=0;y<f;y++)v.push(qe[--He]);if(v.reverse(),m<0||!We[m]||!We[m].bytecode)dt("Function '"+m+"' not found");else if(Ue&&We[m].jsSafe){var g=Qe[m].jsName;g||dt("Function '"+m+"' has no name");var _=window[g];if(_){var b=_.apply(null,v);void 0!==b&&("boolean"==typeof b&&(b=b?0:1),qe[He++]=b)}else dt("Function '"+g+"' not found")}else if(Ye.push({i:Ge,stack:qe,si:He,vars:Je,funcIndex:Xe}),ze=We[Xe=m].bytecode,Ge=0,qe=new Array(100),He=0,Je=new Array(We[Xe].varCount),v)for(var E=0;E<v.length;E++)Je[E]=v[E];break;case De:if(!(Ye.length>0))return 0;var x=Ye.length-1;Xe=Ye[x].funcIndex,ze=We[Xe].bytecode,Ge=Ye[x].i,qe=Ye[x].stack,He=Ye[x].si,Je=Ye[x].vars,Ye.pop();break;case Fe:var T=qe[--He];if(!(Ye.length>0))return console.log("Não pode retornar valor:"+T),0;var A=Ye.length-1;Ye[A].stack[Ye[A].si++]=T;break;case 37:qe[He-1]=-qe[He-1];break;case 38:qe[He-1]=~qe[He-1];break;case 39:qe[He-1]=0==qe[He-1]?1:0;break;case 42:qe[He-1]=Math.trunc(qe[He-1]);break;case 43:qe[He-1]=qe[He-1].toLocaleString("fullwide",{useGrouping:!1});break;case 44:var S=""+qe[He-1];S.includes(".")||(S+=".0"),qe[He-1]=S;break;case 45:qe[He-1]=0==qe[He-1]?"verdadeiro":"falso";break;case 51:case 48:for(var k=ze[Ge++],C=ze[Ge++],w=ze[Ge++],L=[],O=0;O<C;O++){var j=qe[--He];if(!(j>=0))return dt("Tentou criar vetor com tamanho inválido '"+j+"'"),0;L.push(j)}L.reverse(),51==r?$e[k]=st(L,w,0):Je[k]=st(L,w,0);break;case 52:case 49:for(var I=ze[Ge++],R=ze[Ge++],M=[],D=0;D<R;D++)M.push(qe[--He]);M.reverse();for(var F=52==r?$e[I]:Je[I],P=0;P<R-1;P++){if(!(M[P]>=0&&M[P]<F.length))return dt("a matriz tem tamanho '"+F.length+"' na dimensão '"+P+"' mas tentou acessar a posição '"+M[P]+"'"),0;F=F[M[P]]}if(!(M[R-1]>=0&&M[R-1]<F.length))return dt("O vetor vai de 0 à "+(F.length-1)+" mas tentou acessar a posição '"+M[R-1]+"'"),0;F[M[R-1]]=qe[--He];break;case 53:case 50:for(var N=ze[Ge++],B=ze[Ge++],U=[],V=0;V<B;V++)U.push(qe[--He]);U.reverse();for(var z=53==r?$e[N]:Je[N],G=0;G<B-1;G++){if(!(U[G]>=0&&U[G]<z.length))return dt("a matriz tem tamanho '"+z.length+"' na dimensão '"+G+"' mas tentou acessar a posição '"+U[G]+"'"),0;z=z[U[G]]}if(!(U[B-1]>=0&&U[B-1]<z.length))return dt("O vetor vai de 0 à "+(z.length-1)+" mas tentou acessar a posição '"+U[B-1]+"'"),0;qe[He++]=z[U[B-1]];break;case 100:return ct(qe[--He]),2;case 107:return ut(),2;case Pe:return 1;case 102:var q=pt();if(!q||0===q.length)return dt("Deveria inserir um número inteiro, mas inseriu nada"),0;if(!/^[\+\-]?\d+$/.test(q))return dt("Deveria inserir um número inteiro, mas inseriu outro tipo"),0;qe[He++]=parseInt(q);break;case 103:var H=pt();if(!H||0===H.length)return dt("Deveria inserir um número, mas inseriu nada"),0;var J=parseFloat(H);if(isNaN(J)||!isFinite(J))return dt("Deveria inserir um número, mas inseriu outro tipo"),0;qe[He++]=J;break;case 104:qe[He++]=pt();break;case 105:var X=pt();if(!X||0===X.length)return dt("Deveria inserir um caractere, mas inseriu nada"),0;qe[He++]=X[0];break;case 106:var Y=pt();if("verdadeiro"==Y)qe[He++]=0;else{if("falso"!=Y)return dt("Deveria inserir verdadeiro ou falso, mas inseriu outro valor"),0;qe[He++]=1}break;default:return dt("invalid bytecode:"+r),0}}}catch(e){return console.log(e.stack),dt(e),0}}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function vt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==ft(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===ft(i)?i:String(i)),r)}var i}var yt=function(){function e(t,a,r,i,n,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isMobile=s,this.canvas=t,this.modal=a,this.cwindow=r,this.title=i,this.divKeys=n,this.libTeclado=o,this.rotation=0,this.COR_AMARELO=16776960,this.COR_AZUL=255,this.COR_BRANCO=16777215,this.COR_PRETO=0,this.COR_VERDE=65280,this.COR_VERMELHO=16711680,this.CANAL_R=0,this.CANAL_G=1,this.CANAL_B=2,this.GRADIENTE_DIREITA=0,this.GRADIENTE_ESQUERDA=1,this.GRADIENTE_ACIMA=2,this.GRADIENTE_ABAIXO=3,this.GRADIENTE_INFERIOR_DIREITO=4,this.GRADIENTE_INFERIOR_ESQUERDO=5,this.GRADIENTE_SUPERIOR_DIREITO=6,this.GRADIENTE_SUPERIOR_ESQUERDO=7,this.members={COR_AMARELO:{id:re,type:ce},COR_AZUL:{id:re,type:ce},COR_BRANCO:{id:re,type:ce},COR_PRETO:{id:re,type:ce},COR_VERDE:{id:re,type:ce},COR_VERMELHO:{id:re,type:ce},CANAL_R:{id:re,type:ce},CANAL_G:{id:re,type:ce},CANAL_B:{id:re,type:ce},GRADIENTE_DIREITA:{id:re,type:ce},GRADIENTE_ESQUERDA:{id:re,type:ce},GRADIENTE_ACIMA:{id:re,type:ce},GRADIENTE_ABAIXO:{id:re,type:ce},GRADIENTE_INFERIOR_DIREITO:{id:re,type:ce},GRADIENTE_INFERIOR_ESQUERDO:{id:re,type:ce},GRADIENTE_SUPERIOR_DIREITO:{id:re,type:ce},GRADIENTE_SUPERIOR_ESQUERDO:{id:re,type:ce},iniciar_modo_grafico:{id:Y,parameters:[{name:"manter_visivel",type:he}],type:oe,jsSafe:!0},encerrar_modo_grafico:{id:Y,parameters:[],type:oe,jsSafe:!0},definir_dimensoes_janela:{id:Y,parameters:[{name:"largura",type:ce},{name:"altura",type:ce}],type:oe,jsSafe:!0},definir_cor:{id:Y,parameters:[{name:"cor",type:ce}],type:oe,jsSafe:!0},renderizar:{id:Y,parameters:[],type:oe,jsSafe:!1},desenhar_retangulo:{id:Y,parameters:[{name:"pX",type:ce},{name:"pY",type:ce},{name:"largura",type:ce},{name:"altura",type:ce},{name:"arredondar",type:he},{name:"preencher",type:he}],type:oe,jsSafe:!0},limpar:{id:Y,parameters:[],type:oe,jsSafe:!0},definir_titulo_janela:{id:Y,parameters:[{name:"titulo",type:pe}],type:oe,jsSafe:!0},altura_janela:{id:Y,parameters:[],type:ce,jsSafe:!0},largura_janela:{id:Y,parameters:[],type:ce,jsSafe:!0},altura_tela:{id:Y,parameters:[],type:ce,jsSafe:!0},largura_tela:{id:Y,parameters:[],type:ce,jsSafe:!0},desenhar_linha:{id:Y,parameters:[{name:"aX",type:ce},{name:"aY",type:ce},{name:"bX",type:ce},{name:"bY",type:ce}],type:oe,jsSafe:!0},desenhar_texto:{id:Y,parameters:[{name:"pX",type:ce},{name:"pY",type:ce},{name:"texto",type:pe}],type:oe,jsSafe:!0},definir_tamanho_texto:{id:Y,parameters:[{name:"tamanho",type:le}],type:oe,jsSafe:!0},largura_texto:{id:Y,parameters:[{name:"texto",type:pe}],type:ce,jsSafe:!0},altura_texto:{id:Y,parameters:[{name:"texto",type:pe}],type:ce,jsSafe:!0},desenhar_elipse:{id:Y,parameters:[{name:"pX",type:ce},{name:"pY",type:ce},{name:"largura",type:ce},{name:"altura",type:ce},{name:"preencher",type:he}],type:oe,jsSafe:!0},entrar_modo_tela_cheia:{id:Y,parameters:[],type:oe,jsSafe:!0},desenhar_poligono:{id:Y,parameters:[{name:"matriz_pontos",type:me},{name:"preenchar",type:he}],type:oe,jsSafe:!0},desenhar_ponto:{id:Y,parameters:[{name:"pX",type:ce},{name:"pY",type:ce}],type:oe,jsSafe:!0},carregar_imagem:{id:Y,parameters:[{name:"caminho",type:pe}],type:ce,jsSafe:!1},liberar_imagem:{id:Y,parameters:[{name:"endereco",type:ce}],type:oe,jsSafe:!0},desenhar_imagem:{id:Y,parameters:[{name:"pX",type:ce},{name:"pY",type:ce},{name:"endereco",type:ce}],type:oe,jsSafe:!0},desenhar_porcao_imagem:{id:Y,parameters:[{name:"pX",type:ce},{name:"pY",type:ce},{name:"porcaoX",type:ce},{name:"porcaoY",type:ce},{name:"porcaoLargura",type:ce},{name:"porcaoAltura",type:ce},{name:"endereco",type:ce}],type:oe,jsSafe:!0},altura_imagem:{id:Y,parameters:[{name:"endereco",type:ce}],type:ce,jsSafe:!0},largura_imagem:{id:Y,parameters:[{name:"endereco",type:ce}],type:ce,jsSafe:!0},criar_cor:{id:Y,parameters:[{name:"R",type:ce},{name:"G",type:ce},{name:"B",type:ce}],type:ce,jsSafe:!0},obter_cor:{id:Y,parameters:[{name:"RGB",type:ce},{name:"canal",type:ce}],type:ce,jsSafe:!0},obter_RGB:{id:Y,parameters:[{name:"RGB",type:ce},{name:"canal",type:ce}],type:ce,jsSafe:!0},definir_estilo_texto:{id:Y,parameters:[{name:"italico",type:he},{name:"negrito",type:he},{name:"sublinhado",type:he}],type:oe,jsSafe:!0},definir_fonte_texto:{id:Y,parameters:[{name:"caminho_fonte",type:pe}],type:oe,jsSafe:!0},definir_gradiente:{id:Y,parameters:[{name:"tipo",type:ce},{name:"cor1",type:ce},{name:"cor2",type:ce}],type:oe,jsSafe:!0},definir_opacidade:{id:Y,parameters:[{name:"opacidade",type:ce}],type:oe,jsSafe:!0},definir_rotacao:{id:Y,parameters:[{name:"rotacao",type:ce}],type:oe,jsSafe:!0},fechar_janela:{id:Y,parameters:[],type:oe,jsSafe:!1},redimensionar_imagem:{id:Y,parameters:[{name:"endereco",type:ce},{name:"largura",type:ce},{name:"altura",type:ce},{name:"qualidade",type:he}],type:ce,jsSafe:!0},exibir_borda_janela:{id:Y,parameters:[],type:oe,jsSafe:!0},ocultar_borda_janela:{id:Y,parameters:[],type:oe,jsSafe:!0},minimizar_janela:{id:Y,parameters:[],type:oe,jsSafe:!0},restaurar_janela:{id:Y,parameters:[],type:oe,jsSafe:!0}},this.resetar()}var t,a;return t=e,(a=[{key:"updateText",value:function(){this.ctx.font=(this.textoItalico?"italic":"")+" "+(this.textoNegrito?"bold":"")+" "+this.textoTamanho+"px "+this.textoFonte}},{key:"resetar",value:function(){this.telaCheia=!1,this.title.value="Janela sem Título",this.lastWidth=100,this.lastHeight=100,this.rotation=0,this.textoTamanho=15,this.textoItalico=!1,this.textoNegrito=!1,this.textoSublinhado=!1,this.textoFonte="Calibri",this.imgs=[]}},{key:"iniciar_modo_grafico",value:function(e){it=1e7,this.manter_visivel=0==e;var t=r(),a=Math.min(t.width,t.height);this.definir_dimensoes_janela(a-32,a-72),this.modal.style.display="table",this.ctx=this.canvas.getContext("2d"),this.ctx.lineWidth=2,this.ctx.fillStyle="#000000",this.limpar(),this.canvas.focus(),this.divKeys.innerHTML=""}},{key:"encerrar_modo_grafico",value:function(){this.modal.style.display="none",this.telaCheia&&this.sair_modo_tela_cheia()}},{key:"definir_dimensoes_janela",value:function(e,t){var a=r();e=Math.min(a.width-8,e),t=Math.min(a.height-48,t),this.lastWidth=e,this.lastHeight=t,this.canvas.height=t,this.canvas.width=e,this.cwindow.style.height=t+8+40+"px",this.cwindow.style.width=e+8+"px"}},{key:"definir_cor",value:function(e){this.ctx.fillStyle="#"+Number(e).toString(16).padStart(6,"0"),this.ctx.strokeStyle=this.ctx.fillStyle}},{key:"renderizar",value:function(){return this.updateTecladoGraficos(),{state:2}}},{key:"updateTecladoGraficos",value:function(){if(this.isMobile&&"none"!==this.modal.style.display){var e=Object.keys(this.libTeclado.checkMap),t=(Object.keys(this.libTeclado.teclaCharMap),"");if(e.length>0)for(var a=0;a<e.length;a++){var r=e[a];if(!0===this.libTeclado.checkMap[r]){this.libTeclado.checkMap[r]=!1;var i=this.libTeclado.teclaCharMap[r];void 0===i&&(i=String.fromCharCode(r)),t+='<input type="button" value="'+i+'" ontouchstart="GraficosBtnTypeDown(\''+r+"')\" ontouchend=\"GraficosBtnTypeUp('"+r+'\')" onfocus="preventFocusCanvas(event)" style="background: #1E2324;">'}}this.divKeys.innerHTML!=t&&(this.divKeys.innerHTML=t)}}},{key:"desenhar_retangulo",value:function(e,t,a,r,i,n){if(this.startDraw(e,t,a,r),0==i){var o;o=a<=r?a/10:r/10,this.ctx.beginPath(),this.ctx.moveTo(e+o,t),this.ctx.arcTo(e+a,t,e+a,t+r,o),this.ctx.arcTo(e+a,t+r,e,t+r,o),this.ctx.arcTo(e,t+r,e,t,o),this.ctx.arcTo(e,t,e+a,t,o),this.ctx.closePath(),0==n?this.ctx.fill():this.ctx.stroke()}else 0==n?this.ctx.fillRect(e,t,a,r):this.ctx.strokeRect(e,t,a,r);this.endDraw()}},{key:"limpar",value:function(){this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}},{key:"definir_titulo_janela",value:function(e){this.title.value=e}},{key:"altura_tela",value:function(){return{value:r().height}}},{key:"largura_tela",value:function(){return{value:r().width}}},{key:"altura_janela",value:function(){return{value:this.canvas.height}}},{key:"largura_janela",value:function(){return{value:this.canvas.width}}},{key:"desenhar_linha",value:function(e,t,a,r){this.startDraw(e,t,a-e,r-t),this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(a,r),this.ctx.stroke(),this.endDraw()}},{key:"desenhar_texto",value:function(e,t,a){var r=this.altura_texto(a).value,i=this.largura_texto(a).value;this.startDraw(e,t,i,r),this.ctx.fillText(a,e,t+.8*r),this.endDraw()}},{key:"definir_tamanho_texto",value:function(e){this.textoTamanho=e,this.updateText()}},{key:"largura_texto",value:function(e){return{value:this.ctx.measureText(e).width}}},{key:"altura_texto",value:function(e){return{value:this.textoTamanho}}},{key:"desenhar_elipse",value:function(e,t,a,r,i){this.startDraw(e,t,a,r);var n=a/2,o=r/2;if(this.ctx.ellipse)this.ctx.beginPath(),this.ctx.ellipse(e+n,t+o,n,o,0,0,2*Math.PI),0==i?this.ctx.fill():this.ctx.stroke();else{var s=.5522848,c=a/2*s,u=r/2*s,p=e+a,l=t+r,h=e+a/2,d=t+r/2;this.ctx.beginPath(),this.ctx.moveTo(e,d),this.ctx.bezierCurveTo(e,d-u,h-c,t,h,t),this.ctx.bezierCurveTo(h+c,t,p,d-u,p,d),this.ctx.bezierCurveTo(p,d+u,h+c,l,h,l),this.ctx.bezierCurveTo(h-c,l,e,d+u,e,d),0==i?this.ctx.fill():this.ctx.stroke()}this.endDraw()}},{key:"entrar_modo_tela_cheia",value:function(){var e;(e=this.modal).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.cwindow.style.height="100%",this.cwindow.style.width="100%",this.telaCheia=!0;var t=r();this.canvas.height=t.height-48,this.canvas.width=t.width-8;var a=this;window.setTimeout((function(){var e=r();a.canvas.height=e.height-48,a.canvas.width=e.width-8}),50),window.setTimeout((function(){var e=r();a.canvas.height=e.height-48,a.canvas.width=e.width-8}),250),this.canvas.focus()}},{key:"sair_modo_tela_cheia",value:function(){!function(){try{(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement)&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}catch(t){var e=t.stack||t.stacktrace||"";console.log(e)}}(),this.definir_dimensoes_janela(this.lastWidth,this.lastHeight),this.telaCheia=!1}},{key:"desenhar_poligono",value:function(e,t){this.ctx.beginPath(),this.ctx.moveTo(e[0][0],e[0][1]);for(var a=1;a<e.length;a++){var r=e[a];this.ctx.lineTo(r[0],r[1])}this.ctx.closePath(),0==t?this.ctx.fill():this.ctx.stroke()}},{key:"desenhar_ponto",value:function(e,t){this.ctx.fillRect(e,t,1,1)}},{key:"carregar_imagem",value:function(e){var t=this.imgs[this.imgs.length-1];if(t&&t.url==e){if(t.loaded)return{value:this.imgs.length-1};if(t.error)throw'Erro ao carregar a imagem "'+e+'",\n só é permitido carregar imagens usando um endereço web, por exemplo: "https://upload.wikimedia.org/wikipedia/commons/0/0f/Exemplo.jpg"';return Be(1),{state:6}}var a=new Image;return a.src=e,t={url:e,img:a,loaded:!1,error:!1,rescale:!1,rescaleX:0,rescaleY:0},a.onerror=function(){console.log("Erro ao carregar imagem :"+e),t.error=!0},a.onload=function(){console.log("Carregada imagem :"+e),t.loaded=!0},this.imgs.push(t),Be(1),{state:6}}},{key:"liberar_imagem",value:function(e){this.imgs[e]=!1}},{key:"redimensionar_imagem",value:function(e,t,a,r){if(this.imgs[e]&&this.imgs[e].loaded){var i=this.imgs[e],n={url:i.url,img:i.img,loaded:!0,error:!1,rescale:!0,rescaleX:t,rescaleY:a};return this.imgs.push(n),{value:this.imgs.length-1}}throw"Imagem "+e+" não existe ou não foi carregada"}},{key:"desenhar_imagem",value:function(e,t,a){if(!this.imgs[a]||!this.imgs[a].loaded)throw"Imagem "+a+" não existe ou não foi carregada";var r=this.imgs[a];r.rescale?(this.startDraw(e,t,r.rescaleX,r.rescaleY),this.ctx.drawImage(r.img,e,t,r.rescaleX,r.rescaleY)):(this.startDraw(e,t,r.img.width,r.img.height),this.ctx.drawImage(r.img,e,t)),this.endDraw()}},{key:"desenhar_porcao_imagem",value:function(e,t,a,r,i,n,o){if(!this.imgs[o]||!this.imgs[o].loaded)throw"Imagem "+o+" não existe ou não foi carregada";var s=this.imgs[o];if(this.startDraw(e,t,i,n),s.rescale){var c=i/s.rescaleX*s.img.width,u=n/s.rescaleY*s.img.height,p=a/s.rescaleX*s.img.width,l=r/s.rescaleY*s.img.height;this.ctx.drawImage(s.img,p,l,c,u,e,t,i,n)}else this.ctx.drawImage(s.img,a,r,i,n,e,t,i,n);this.endDraw()}},{key:"altura_imagem",value:function(e){if(this.imgs[e]&&this.imgs[e].loaded)return{value:this.imgs[e].img.height};throw"Imagem "+e+" não existe ou não foi carregada"}},{key:"largura_imagem",value:function(e){if(this.imgs[e]&&this.imgs[e].loaded)return{value:this.imgs[e].img.width};throw"Imagem "+e+" não existe ou não foi carregada"}},{key:"criar_cor",value:function(e,t,a){return{value:(255&e)<<16|(255&t)<<8|255&a}}},{key:"obter_RGB",value:function(e,t){if(t==this.CANAL_R)return{value:e>>16&255};if(t==this.CANAL_G)return{value:e>>8&255};if(t==this.CANAL_B)return{value:255&e};throw"canal deve ser CANAL_R, CANAL_G ou CANAL_B"}},{key:"obter_cor",value:function(e,t){if(t==this.CANAL_R)return{value:e>>16&255};if(t==this.CANAL_G)return{value:e>>8&255};if(t==this.CANAL_B)return{value:255&e};throw"canal deve ser CANAL_R, CANAL_G ou CANAL_B"}},{key:"definir_estilo_texto",value:function(e,t,a){this.textoItalico=0==e,this.textoNegrito=0==t,this.textoSublinhado=0==a,this.updateText()}},{key:"definir_fonte_texto",value:function(e){this.textoFonte=e,this.updateText()}},{key:"definir_gradiente",value:function(e,t,a){var r="#"+Number(t).toString(16).padStart(6,"0"),i="#"+Number(a).toString(16).padStart(6,"0"),n=this.ctx.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,r),n.addColorStop(1,i),this.ctx.fillStyle=n}},{key:"definir_opacidade",value:function(e){this.ctx.globalAlpha=e/255}},{key:"definir_rotacao",value:function(e){this.rotation=e}},{key:"startDraw",value:function(e,t,a,r){if(this.ctx.save(),0!=this.rotation){var i=.5*(e+(e+a)),n=.5*(t+(t+r));this.ctx.translate(i,n),this.ctx.rotate(this.rotation*Math.PI/180),this.ctx.translate(-i,-n)}}},{key:"endDraw",value:function(){this.ctx.restore()}},{key:"fechar_janela",value:function(){return this.encerrar_modo_grafico(),{state:0}}},{key:"exibir_borda_janela",value:function(){}},{key:"ocultar_borda_janela",value:function(){}},{key:"minimizar_janela",value:function(){}},{key:"restaurar_janela",value:function(){}}])&&vt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function _t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==gt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===gt(i)?i:String(i)),r)}var i}var bt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.members={baixar_imagem:{id:Y,parameters:[{name:"endereco",type:pe},{name:"caminho",type:pe}],type:pe,jsSafe:!1},definir_tempo_limite:{id:Y,parameters:[{name:"tempo_limite",type:ce}],type:oe,jsSafe:!0},endereco_disponivel:{id:Y,parameters:[{name:"endereco",type:pe}],type:he,jsSafe:!1},obter_texto:{id:Y,parameters:[{name:"endereco",type:pe}],type:pe,jsSafe:!1}},this.resetar()}var t,a;return t=e,(a=[{key:"resetar",value:function(){this.ocupado=!1,this.retorno=!1,this.abortador=!1,this.tempo=0,this.tempo_limite=1e4}},{key:"baixar_imagem",value:function(e,t){return{value:"Não implementado baixar_imagem, ao invés disso, informe esse endereço da internet como o caminho na função carregar_imagem da biblioteca Graficos diretamente."}}},{key:"definir_tempo_limite",value:function(e){this.tempo_limite=e}},{key:"endereco_disponivel",value:function(e){if("undefined"!=typeof Android)return Android.httpgetcheck(e,this.tempo_limite),{state:8};var t=this.obter_texto(e);return 6==t.state?t:{value:t.__sucess}}},{key:"obter_texto",value:function(e){if("undefined"!=typeof Android)return Android.httpget(e,this.tempo_limite),{state:8};if(this.ocupado){if(this.tempo=this.tempo+1,!1!==this.retorno){var t=this.retorno;return this.ocupado=!1,this.retorno=!1,this.tempo=0,this.abortador=!1,t}return this.tempo>this.tempo_limite?(this.abortador.abort(),this.ocupado=!1,this.retorno=!1,this.tempo=0,this.abortador=!1,{value:"Tempo limite atingido",__sucess:!1}):(Be(1),{state:6})}this.ocupado=!0,this.tempo=0,this.retorno=!1,this.abortador=new AbortController;try{var a=this;fetch(e,{method:"GET",signal:a.abortador.signal}).then((function(e){if(!e.ok){var t=e.status;return Promise.reject(t)}return e.text()})).then((function(e){if(!e)return Promise.reject("Resposta Vazia");a.retorno={value:""+e,__sucess:!0}})).catch((function(e){console.log("FETCH --\x3e CATCH:"+e),"AbortError"===e.name?console.log("Fetch aborted"):a.retorno={value:""+e,__sucess:!1}}))}catch(e){return console.log("TRY --\x3e CATCH"+e),this.ocupado=!1,this.retorno=!1,this.tempo=0,this.abortador=!1,{value:""+e,__sucess:!1}}return Be(1),{state:6}}}])&&_t(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function xt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Et(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Et(i)?i:String(i)),r)}var i}var Tt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PI=3.141592653589793,this.members={PI:{id:re,type:le},potencia:{id:Y,parameters:[{name:"base",type:le},{name:"expoente",type:le}],type:le,jsSafe:!0},arredondar:{id:Y,parameters:[{name:"numero",type:le},{name:"casas",type:le}],type:le,jsSafe:!0},cosseno:{id:Y,parameters:[{name:"numero",type:le}],type:le,jsSafe:!0},logaritmo:{id:Y,parameters:[{name:"numero",type:le},{name:"base",type:le}],type:le,jsSafe:!0},maior_numero:{id:Y,parameters:[{name:"a",type:le},{name:"b",type:le}],type:le,jsSafe:!0},menor_numero:{id:Y,parameters:[{name:"a",type:le},{name:"b",type:le}],type:le,jsSafe:!0},raiz:{id:Y,parameters:[{name:"numero",type:le},{name:"potencia",type:le}],type:le,jsSafe:!0},seno:{id:Y,parameters:[{name:"numero",type:le}],type:le,jsSafe:!0},tangente:{id:Y,parameters:[{name:"numero",type:le}],type:le,jsSafe:!0},valor_absoluto:{id:Y,parameters:[{name:"numero",type:le}],type:le,jsSafe:!0}}}var t,a;return t=e,(a=[{key:"resetar",value:function(){}},{key:"arredondar",value:function(e,t){return{value:+e.toFixed(t)}}},{key:"potencia",value:function(e,t){return{value:Math.pow(e,t)}}},{key:"cosseno",value:function(e){return{value:Math.cos(e)}}},{key:"logaritmo",value:function(e,t){return{value:Math.log(e)/Math.log(t)}}},{key:"maior_numero",value:function(e,t){return{value:e>t?e:t}}},{key:"menor_numero",value:function(e,t){return{value:e<t?e:t}}},{key:"raiz",value:function(e,t){try{var a=t%2==1&&e<0;a&&(e=-e);var r=Math.pow(e,1/t);if(t=Math.pow(r,t),Math.abs(e-t)<1&&e>0==t>0)return{value:a?-r:r}}catch(e){console.log(e)}}},{key:"seno",value:function(e){return{value:Math.sin(e)}}},{key:"tangente",value:function(e){return{value:Math.tan(e)}}},{key:"valor_absoluto",value:function(e){return{value:Math.abs(e)}}}])&&xt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function St(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==At(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===At(i)?i:String(i)),r)}var i}var kt=function(){function e(t){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.BOTAO_DIREITO=1,this.BOTAO_MEIO=2,this.BOTAO_ESQUERDO=0,this.members={BOTAO_DIREITO:{id:re,type:ce},BOTAO_MEIO:{id:re,type:ce},BOTAO_ESQUERDO:{id:re,type:ce},posicao_x:{id:Y,parameters:[],type:ce,jsSafe:!0},posicao_y:{id:Y,parameters:[],type:ce,jsSafe:!0},botao_pressionado:{id:Y,parameters:[{name:"botao",type:ce}],type:he,jsSafe:!0},algum_botao_pressionado:{id:Y,parameters:[],type:he,jsSafe:!0},exibir_cursor:{id:Y,parameters:[],type:oe,jsSafe:!0},ocultar_cursor:{id:Y,parameters:[],type:oe,jsSafe:!0},ler_botao:{id:Y,parameters:[],type:ce,jsSafe:!1}},this.canvas.addEventListener("mousemove",(function(e){a.mouseMove(e)})),this.canvas.addEventListener("click",(function(e){a.mouseClick(e)})),this.canvas.addEventListener("mouseenter",(function(e){a.mouseEnter(e)})),this.canvas.addEventListener("mouseleave",(function(e){a.mouseLeave(e)})),this.canvas.addEventListener("mousedown",(function(e){a.mouseDown(e)})),this.canvas.addEventListener("mouseup",(function(e){a.mouseUp(e)}));var r=[-1,this.BOTAO_ESQUERDO,this.BOTAO_MEIO,this.BOTAO_DIREITO];this.touchManager=new s,this.canvas.addEventListener("touchstart",(function(e){a.touchManager.touchstart(e)}),!1),this.canvas.addEventListener("touchmove",(function(e){e.preventDefault(),a.touchManager.touchmove(e)}),!1),this.canvas.addEventListener("touchend",(function(e){e.preventDefault(),a.touchManager.touchend(e)}),!1),this.canvas.addEventListener("touchcancel",(function(e){a.touchManager.touchcancel(e)}),!1),this.canvas.addEventListener("touchleave",(function(e){a.touchManager.touchleave(e)}),!1),this.touchManager.addEventListener("onTouchDown",(function(e,t){a.mouseDown({clientX:e.x,clientY:e.y,button:r[t]})}),!1),this.touchManager.addEventListener("onTouchMove",(function(e,t){a.mouseMove({clientX:e.x,clientY:e.y,button:r[t]})}),!1),this.touchManager.addEventListener("onTouchUp",(function(e,t){a.mouseUp({clientX:e.x,clientY:e.y,button:r[t]})}),!1),this.touchManager.addEventListener("onTouchZoom",(function(e,t){a.doZoom(e,t)}),!1),this.resetar()}var t,a;return t=e,(a=[{key:"resetar",value:function(){this.x=0,this.y=0,this.pressionado=[!1,!1,!1],this.touchManager.resetar()}},{key:"doZoom",value:function(e,t){}},{key:"mouseChanged",value:function(e){var t=this.canvas.getBoundingClientRect();this.x=e.clientX-t.left,this.y=e.clientY-t.top}},{key:"mouseMove",value:function(e){this.mouseChanged(e)}},{key:"mouseClick",value:function(e){this.mouseChanged(e)}},{key:"mouseEnter",value:function(e){this.mouseChanged(e)}},{key:"mouseLeave",value:function(e){this.mouseChanged(e)}},{key:"mouseDown",value:function(e){this.mouseChanged(e),this.pressionado[e.button]=!0}},{key:"mouseUp",value:function(e){this.mouseChanged(e),this.pressionado[e.button]=!1}},{key:"posicao_x",value:function(){return{value:Math.floor(this.x)}}},{key:"posicao_y",value:function(){return{value:Math.floor(this.y)}}},{key:"botao_pressionado",value:function(e){if(e==this.BOTAO_DIREITO)return{value:this.pressionado[2]};if(e==this.BOTAO_ESQUERDO)return{value:this.pressionado[0]};if(e==this.BOTAO_MEIO)return{value:this.pressionado[1]};throw"O Botão deve ser 0, 1 ou 2"}},{key:"algum_botao_pressionado",value:function(){return{value:this.pressionado[0]||this.pressionado[1]||this.pressionado[2]}}},{key:"exibir_cursor",value:function(){this.canvas.style.cursor="auto"}},{key:"ocultar_cursor",value:function(){this.canvas.style.cursor="none"}},{key:"ler_botao",value:function(){return!0===this.algum_botao_pressionado().value?{value:this.pressionado[0]?this.BOTAO_ESQUERDO:this.pressionado[1]?this.BOTAO_MEIO:this.BOTAO_DIREITO}:(Be(1),{state:6})}}])&&St(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function wt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Ct(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ct(i)?i:String(i)),r)}var i}var Lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.TIPO_CADEIA=2,this.TIPO_CARACTER=3,this.TIPO_INTEIRO=1,this.TIPO_LOGICO=5,this.TIPO_OBJETO=6,this.TIPO_REAL=4,this.TIPO_VETOR=7,this.members={TIPO_CADEIA:{id:re,type:ce},TIPO_CARACTER:{id:re,type:ce},TIPO_INTEIRO:{id:re,type:ce},TIPO_LOGICO:{id:re,type:ce},TIPO_OBJETO:{id:re,type:ce},TIPO_REAL:{id:re,type:ce},TIPO_VETOR:{id:re,type:ce},atribuir_propriedade:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe},{name:"valor",type:oe}],type:oe,jsSafe:!0},contem_propriedade:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:he,jsSafe:!0},criar_objeto:{id:Y,parameters:[],type:ce,jsSafe:!0},criar_objeto_via_json:{id:Y,parameters:[{name:"json",type:pe}],type:ce,jsSafe:!0},criar_objeto_via_xml:{id:Y,parameters:[{name:"xml",type:pe}],type:ce,jsSafe:!0},liberar:{id:Y,parameters:[],type:oe,jsSafe:!0},liberar_objeto:{id:Y,parameters:[{name:"endereco",type:ce}],type:oe,jsSafe:!0},obter_json:{id:Y,parameters:[{name:"endereco",type:ce}],type:pe,jsSafe:!0},obter_propriedade_tipo_cadeia:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:pe,jsSafe:!0},obter_propriedade_tipo_cadeia_em_vetor:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe},{name:"indice",type:ce}],type:pe,jsSafe:!0},obter_propriedade_tipo_caracter:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:ue,jsSafe:!0},obter_propriedade_tipo_caracter_em_vetor:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe},{name:"indice",type:ce}],type:ue,jsSafe:!0},obter_propriedade_tipo_inteiro:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:ce,jsSafe:!0},obter_propriedade_tipo_inteiro_em_vetor:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe},{name:"indice",type:ce}],type:ce,jsSafe:!0},obter_propriedade_tipo_logico:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:he,jsSafe:!0},obter_propriedade_tipo_logico_em_vetor:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe},{name:"indice",type:ce}],type:he,jsSafe:!0},obter_propriedade_tipo_objeto:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:ce,jsSafe:!0},obter_propriedade_tipo_objeto_em_vetor:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe},{name:"indice",type:ce}],type:ce,jsSafe:!0},obter_propriedade_tipo_real:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:le,jsSafe:!0},obter_propriedade_tipo_real_em_vetor:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe},{name:"indice",type:ce}],type:le,jsSafe:!0},obter_tamanho_vetor_propriedade:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:ce,jsSafe:!0},tipo_propriedade:{id:Y,parameters:[{name:"endereco",type:ce},{name:"propriedade",type:pe}],type:ce,jsSafe:!0}},this.obter_propriedade_tipo_cadeia=this.obter_propriedade_tipo_danese,this.obter_propriedade_tipo_caracter=this.obter_propriedade_tipo_danese,this.obter_propriedade_tipo_inteiro=this.obter_propriedade_tipo_danese,this.obter_propriedade_tipo_logico=this.obter_propriedade_tipo_danese,this.obter_propriedade_tipo_objeto=this.obter_propriedade_tipo_danese,this.obter_propriedade_tipo_real=this.obter_propriedade_tipo_danese,this.obter_propriedade_tipo_cadeia_em_vetor=this.obter_propriedade_tipo_danese_em_vetor,this.obter_propriedade_tipo_caracter_em_vetor=this.obter_propriedade_tipo_danese_em_vetor,this.obter_propriedade_tipo_inteiro_em_vetor=this.obter_propriedade_tipo_danese_em_vetor,this.obter_propriedade_tipo_logico_em_vetor=this.obter_propriedade_tipo_danese_em_vetor,this.obter_propriedade_tipo_objeto_em_vetor=this.obter_propriedade_tipo_danese_em_vetor,this.obter_propriedade_tipo_real_em_vetor=this.obter_propriedade_tipo_danese_em_vetor,this.resetar()}var t,a;return t=e,(a=[{key:"atribuir_propriedade",value:function(e,t,a){if(!this.objs[e])throw"Nenhum objeto encontrado no endereco "+e;this.objs[e][t]=a}},{key:"contem_propriedade",value:function(e,t){if(this.objs[e])return t in this.objs[e]?{value:!0}:{value:!1};throw"Nenhum objeto encontrado no endereco "+e}},{key:"resetar",value:function(){this.objs=[]}},{key:"criar_objeto",value:function(){return this.objs.push({}),{value:this.objs.length-1}}},{key:"criar_objeto_via_json",value:function(e){return this.objs.push(JSON.parse(e)),{value:this.objs.length-1}}},{key:"criar_objeto_via_xml",value:function(e){throw"JSON é melhor que XML, use criar_objeto_via_json"}},{key:"liberar",value:function(){this.resetar()}},{key:"liberar_objeto",value:function(e){this.objs[e]=!1}},{key:"obter_json",value:function(e){if(this.objs[e])return{value:JSON.stringify(this.objs[e])};throw"Nenhum objeto encontrado no endereco "+e}},{key:"obter_propriedade_tipo_danese",value:function(e,t){if(this.objs[e]){var a=this.objs[e];if(t in a)return{value:a[t]};throw"Não pôde acessar a propriedade '"+t+"' no endereco "+e}throw"Nenhum objeto encontrado no endereco "+e}},{key:"obter_propriedade_tipo_danese_em_vetor",value:function(e,t,a){return{value:this.obter_propriedade_tipo_danese(e,t)[a]}}},{key:"obter_tamanho_vetor_propriedade",value:function(e,t){return{value:this.obter_propriedade_tipo_danese(e,t).length}}},{key:"tipo_propriedade",value:function(e,t){var a=this.obter_propriedade_tipo_danese(e,t);if("object"===Ct(a))return a.isArray?{value:this.TIPO_VETOR}:{value:this.TIPO_OBJETO};if("boolean"==typeof a)return{value:this.TIPO_LOGICO};if("string"==typeof a)return{value:this.TIPO_CADEIA};if("number"==typeof a)return{value:this.TIPO_REAL};throw"Tipo desconhecido '"+Ct(a)+"'"}}])&&wt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function jt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Ot(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ot(i)?i:String(i)),r)}var i}var It=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=t,this.libGraficos=!1,this.teclaCharMap={10:"↩",8:"←",9:"↹",3:"Cancelar",12:"Limpar",16:"⇧",17:"Ctrl",19:"Pause",20:"⇪",27:"Esc",32:"␣",33:"↟",34:"↡",35:"⇥",36:"⇤",37:"←",38:"↑",39:"→",40:"↓",127:"Del",144:"Num",145:"ScLock",154:"PrtSc",155:"Insert",156:"Ajuda",524:"Win",525:"Menu",0:"Alguma",44:",",45:"_",46:".",47:"/",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"[",92:"\\",93:"]",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",108:",",109:"-",110:".",111:"%",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",61440:"F13",61441:"F14",61442:"F15",61443:"F16",61444:"F17",61445:"F18",61446:"F19",61447:"F20",61448:"F21",61449:"F22",61450:"F23",61451:"F24",222:"'"},this.teclaCodepointMap={ENTER:10,BACK_SPACE:8,TAB:9,CANCEL:3,CLEAR:12,SHIFT:16,CONTROL:17,ALT:18,PAUSE:19,CAPSLOCK:20,ESCAPE:27," ":32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,ARROWLEFT:37,ARROWUP:38,ARROWRIGHT:39,ARROWDOWN:40,",":44,"-":45,_:45,".":46,"/":47,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,")":48,"!":49,"@":50,"#":51,$:52,"%":53,"¨":54,"&":55,"*":56,"(":57,";":59,"=":61,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,"[":91,"\\":92,"]":93,"+":107,DELETE:127,NUMLOCK:144,SCROLLOCK:145,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:61440,F14:61441,F15:61442,F16:61443,F17:61444,F18:61445,F19:61446,F20:61447,F21:61448,F22:61449,F23:61450,F24:61451,PRINTSCREEN:154,INSERT:155,HELP:156,META:524,CONTEXTMENU:525,"'":222,'"':222},this.TECLA_ENTER=10,this.TECLA_BACKSPACE=8,this.TECLA_TAB=9,this.TECLA_CANCELAR=3,this.TECLA_LIMPAR=12,this.TECLA_SHIFT=16,this.TECLA_CONTROL=17,this.TECLA_ALT=18,this.TECLA_PAUSE=19,this.TECLA_CAPS_LOCK=20,this.TECLA_ESC=27,this.TECLA_ESPACO=32,this.TECLA_PAGE_UP=33,this.TECLA_PAGE_DOWN=34,this.TECLA_END=35,this.TECLA_HOME=36,this.TECLA_SETA_ESQUERDA=37,this.TECLA_SETA_ACIMA=38,this.TECLA_SETA_DIREITA=39,this.TECLA_SETA_ABAIXO=40,this.TECLA_VIRGULA=44,this.TECLA_MENOS=45,this.TECLA_PONTO_FINAL=46,this.TECLA_BARRA=47,this.TECLA_0=48,this.TECLA_1=49,this.TECLA_2=50,this.TECLA_3=51,this.TECLA_4=52,this.TECLA_5=53,this.TECLA_6=54,this.TECLA_7=55,this.TECLA_8=56,this.TECLA_9=57,this.TECLA_PONTO_VIRGULA=59,this.TECLA_IGUAL=61,this.TECLA_A=65,this.TECLA_B=66,this.TECLA_C=67,this.TECLA_D=68,this.TECLA_E=69,this.TECLA_F=70,this.TECLA_G=71,this.TECLA_H=72,this.TECLA_I=73,this.TECLA_J=74,this.TECLA_K=75,this.TECLA_L=76,this.TECLA_M=77,this.TECLA_N=78,this.TECLA_O=79,this.TECLA_P=80,this.TECLA_Q=81,this.TECLA_R=82,this.TECLA_S=83,this.TECLA_T=84,this.TECLA_U=85,this.TECLA_V=86,this.TECLA_W=87,this.TECLA_X=88,this.TECLA_Y=89,this.TECLA_Z=90,this.TECLA_ABRE_COLCHETES=91,this.TECLA_BARRA_INVERTIDA=92,this.TECLA_FECHA_COLCHETES=93,this.TECLA_0_NUM=96,this.TECLA_1_NUM=97,this.TECLA_2_NUM=98,this.TECLA_3_NUM=99,this.TECLA_4_NUM=100,this.TECLA_5_NUM=101,this.TECLA_6_NUM=102,this.TECLA_7_NUM=103,this.TECLA_8_NUM=104,this.TECLA_9_NUM=105,this.TECLA_MULTIPLICACAO=106,this.TECLA_ADICAO=107,this.TECLA_NUM_SEPARADOR_DECIMAL=108,this.TECLA_SUBTRACAO=109,this.TECLA_DECIMAL=110,this.TECLA_DIVISAO=111,this.TECLA_DELETAR=127,this.TECLA_NUM_LOCK=144,this.TECLA_SCROLL_LOCK=145,this.TECLA_F1=112,this.TECLA_F2=113,this.TECLA_F3=114,this.TECLA_F4=115,this.TECLA_F5=116,this.TECLA_F6=117,this.TECLA_F7=118,this.TECLA_F8=119,this.TECLA_F9=120,this.TECLA_F10=121,this.TECLA_F11=122,this.TECLA_F12=123,this.TECLA_F13=61440,this.TECLA_F14=61441,this.TECLA_F15=61442,this.TECLA_F16=61443,this.TECLA_F17=61444,this.TECLA_F18=61445,this.TECLA_F19=61446,this.TECLA_F20=61447,this.TECLA_F21=61448,this.TECLA_F22=61449,this.TECLA_F23=61450,this.TECLA_F24=61451,this.TECLA_PRINTSCREEN=154,this.TECLA_INSERT=155,this.TECLA_AJUDA=156,this.TECLA_WINDOWS=524,this.TECLA_MENU_CONTEXTO=525,this.members={TECLA_ENTER:{id:re,type:ce},TECLA_BACKSPACE:{id:re,type:ce},TECLA_TAB:{id:re,type:ce},TECLA_CANCELAR:{id:re,type:ce},TECLA_LIMPAR:{id:re,type:ce},TECLA_SHIFT:{id:re,type:ce},TECLA_CONTROL:{id:re,type:ce},TECLA_ALT:{id:re,type:ce},TECLA_PAUSE:{id:re,type:ce},TECLA_CAPS_LOCK:{id:re,type:ce},TECLA_ESC:{id:re,type:ce},TECLA_ESPACO:{id:re,type:ce},TECLA_PAGE_UP:{id:re,type:ce},TECLA_PAGE_DOWN:{id:re,type:ce},TECLA_END:{id:re,type:ce},TECLA_HOME:{id:re,type:ce},TECLA_SETA_ESQUERDA:{id:re,type:ce},TECLA_SETA_ACIMA:{id:re,type:ce},TECLA_SETA_DIREITA:{id:re,type:ce},TECLA_SETA_ABAIXO:{id:re,type:ce},TECLA_VIRGULA:{id:re,type:ce},TECLA_MENOS:{id:re,type:ce},TECLA_PONTO_FINAL:{id:re,type:ce},TECLA_BARRA:{id:re,type:ce},TECLA_0:{id:re,type:ce},TECLA_1:{id:re,type:ce},TECLA_2:{id:re,type:ce},TECLA_3:{id:re,type:ce},TECLA_4:{id:re,type:ce},TECLA_5:{id:re,type:ce},TECLA_6:{id:re,type:ce},TECLA_7:{id:re,type:ce},TECLA_8:{id:re,type:ce},TECLA_9:{id:re,type:ce},TECLA_PONTO_VIRGULA:{id:re,type:ce},TECLA_IGUAL:{id:re,type:ce},TECLA_A:{id:re,type:ce},TECLA_B:{id:re,type:ce},TECLA_C:{id:re,type:ce},TECLA_D:{id:re,type:ce},TECLA_E:{id:re,type:ce},TECLA_F:{id:re,type:ce},TECLA_G:{id:re,type:ce},TECLA_H:{id:re,type:ce},TECLA_I:{id:re,type:ce},TECLA_J:{id:re,type:ce},TECLA_K:{id:re,type:ce},TECLA_L:{id:re,type:ce},TECLA_M:{id:re,type:ce},TECLA_N:{id:re,type:ce},TECLA_O:{id:re,type:ce},TECLA_P:{id:re,type:ce},TECLA_Q:{id:re,type:ce},TECLA_R:{id:re,type:ce},TECLA_S:{id:re,type:ce},TECLA_T:{id:re,type:ce},TECLA_U:{id:re,type:ce},TECLA_V:{id:re,type:ce},TECLA_W:{id:re,type:ce},TECLA_X:{id:re,type:ce},TECLA_Y:{id:re,type:ce},TECLA_Z:{id:re,type:ce},TECLA_ABRE_COLCHETES:{id:re,type:ce},TECLA_BARRA_INVERTIDA:{id:re,type:ce},TECLA_FECHA_COLCHETES:{id:re,type:ce},TECLA_0_NUM:{id:re,type:ce},TECLA_1_NUM:{id:re,type:ce},TECLA_2_NUM:{id:re,type:ce},TECLA_3_NUM:{id:re,type:ce},TECLA_4_NUM:{id:re,type:ce},TECLA_5_NUM:{id:re,type:ce},TECLA_6_NUM:{id:re,type:ce},TECLA_7_NUM:{id:re,type:ce},TECLA_8_NUM:{id:re,type:ce},TECLA_9_NUM:{id:re,type:ce},TECLA_MULTIPLICACAO:{id:re,type:ce},TECLA_ADICAO:{id:re,type:ce},TECLA_NUM_SEPARADOR_DECIMAL:{id:re,type:ce},TECLA_SUBTRACAO:{id:re,type:ce},TECLA_DECIMAL:{id:re,type:ce},TECLA_DIVISAO:{id:re,type:ce},TECLA_DELETAR:{id:re,type:ce},TECLA_NUM_LOCK:{id:re,type:ce},TECLA_SCROLL_LOCK:{id:re,type:ce},TECLA_F1:{id:re,type:ce},TECLA_F2:{id:re,type:ce},TECLA_F3:{id:re,type:ce},TECLA_F4:{id:re,type:ce},TECLA_F5:{id:re,type:ce},TECLA_F6:{id:re,type:ce},TECLA_F7:{id:re,type:ce},TECLA_F8:{id:re,type:ce},TECLA_F9:{id:re,type:ce},TECLA_F10:{id:re,type:ce},TECLA_F11:{id:re,type:ce},TECLA_F12:{id:re,type:ce},TECLA_F13:{id:re,type:ce},TECLA_F14:{id:re,type:ce},TECLA_F15:{id:re,type:ce},TECLA_F16:{id:re,type:ce},TECLA_F17:{id:re,type:ce},TECLA_F18:{id:re,type:ce},TECLA_F19:{id:re,type:ce},TECLA_F20:{id:re,type:ce},TECLA_F21:{id:re,type:ce},TECLA_F22:{id:re,type:ce},TECLA_F23:{id:re,type:ce},TECLA_F24:{id:re,type:ce},TECLA_PRINTSCREEN:{id:re,type:ce},TECLA_INSERT:{id:re,type:ce},TECLA_AJUDA:{id:re,type:ce},TECLA_WINDOWS:{id:re,type:ce},TECLA_MENU_CONTEXTO:{id:re,type:ce},alguma_tecla_pressionada:{id:Y,parameters:[],type:he,jsSafe:!0},caracter_tecla:{id:Y,parameters:[{name:"tecla",type:ce}],type:ue,jsSafe:!0},ler_tecla:{id:Y,parameters:[],type:ce,jsSafe:!1},tecla_pressionada:{id:Y,parameters:[{name:"tecla",type:ce}],type:he,jsSafe:!0}};var a=this;this.canvas.addEventListener("keydown",(function(e){a.tecladoDown(e,-1)})),this.canvas.addEventListener("keyup",(function(e){a.tecladoUp(e,-1)})),this.resetar()}var t,a;return t=e,(a=[{key:"resetar",value:function(){this.keyMap={},this.checkMap={},this.pressionadas=0,this.ultimaPressionada=-1,this.aguardandoLer=!1,this.ultimaSolta=-1}},{key:"tecladoDown",value:function(e,t){e.preventDefault();var a=t;-1==a&&void 0===(a=this.teclaCodepointMap[e.key.toUpperCase()])&&(a=-1),this.ultimaPressionada=a,console.log(e.key+" --\x3e "+a),!0!==this.keyMap[a]&&this.pressionadas++,this.keyMap[a]=!0}},{key:"tecladoUp",value:function(e,t){e.preventDefault();var a=t;-1==a&&void 0===(a=this.teclaCodepointMap[e.key.toUpperCase()])&&(a=-1),this.ultimaSolta=a,!0===this.keyMap[a]&&this.pressionadas--,this.keyMap[a]=!1}},{key:"alguma_tecla_pressionada",value:function(){return this.checkMap[0]=!0,{value:this.pressionadas>0}}},{key:"caracter_tecla",value:function(e){return{value:""+String.fromCharCode(e)}}},{key:"ler_tecla",value:function(){for(var e=49;e<58;e++)this.checkMap[e]=!0;for(var t=65;t<91;t++)this.checkMap[t]=!0;return 0!=this.libGraficos&&this.libGraficos.updateTecladoGraficos(),0==this.aguardandoLer?(this.aguardandoLer=!0,this.ultimaSolta=-1,Be(1),{state:6}):-1==this.ultimaSolta?(Be(1),{state:6}):(this.aguardandoLer=!1,{value:this.ultimaSolta})}},{key:"tecla_pressionada",value:function(e){return this.checkMap[e]=!0,{value:!0===this.keyMap[e]}}}])&&jt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Mt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Rt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Rt(i)?i:String(i)),r)}var i}var Dt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.members={caixa_alta:{id:Y,parameters:[{name:"cad",type:pe}],type:pe,jsSafe:!0},caixa_baixa:{id:Y,parameters:[{name:"cad",type:pe}],type:pe,jsSafe:!0},extrair_subtexto:{id:Y,parameters:[{name:"cad",type:pe},{name:"posicao_inicial",type:ce},{name:"posicao_final",type:ce}],type:pe,jsSafe:!0},numero_caracteres:{id:Y,parameters:[{name:"cad",type:pe}],type:ce,jsSafe:!0},obter_caracter:{id:Y,parameters:[{name:"cad",type:pe},{name:"indice",type:ce}],type:ue,jsSafe:!0},posicao_texto:{id:Y,parameters:[{name:"agulha",type:pe},{name:"palheiro",type:pe},{name:"posicao_inicial",type:ce}],type:ce,jsSafe:!0},preencher_a_esquerda:{id:Y,parameters:[{name:"letra",type:ue},{name:"tamanho",type:ce},{name:"cad",type:pe}],type:pe,jsSafe:!0},substituir:{id:Y,parameters:[{name:"cad",type:pe},{name:"texto_pesquisa",type:pe},{name:"texto_substituto",type:pe}],type:pe,jsSafe:!0}}}var t,a;return t=e,(a=[{key:"resetar",value:function(){}},{key:"caixa_alta",value:function(e){return{value:e.toUpperCase()}}},{key:"caixa_baixa",value:function(e){return{value:e.toLowerCase()}}},{key:"extrair_subtexto",value:function(e,t,a){return{value:e.substring(t,a)}}},{key:"numero_caracteres",value:function(e){return{value:e.length}}},{key:"obter_caracter",value:function(e,t){return{value:e.charAt(t)}}},{key:"posicao_texto",value:function(e,t,a){return{value:t.indexOf(e,a)}}},{key:"preencher_a_esquerda",value:function(e,t,a){return{value:a.padStart(t,e)}}},{key:"substituir",value:function(e,t,a){return{value:function(e,t,a){for(var r=[],i=t.length,n=e.indexOf(t);-1!==n;)r.push(e.substring(0,n)),r.push(a),n=(e=e.substring(n+i)).indexOf(t);return r.push(e),r.join("")}(e,t,a)}}}])&&Mt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ft(e){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft(e)}function Pt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Ft(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ft(i)?i:String(i)),r)}var i}var Nt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.members={cadeia_e_caracter:{id:Y,parameters:[{name:"cad",type:pe}],type:he,jsSafe:!0},cadeia_e_inteiro:{id:Y,parameters:[{name:"cad",type:pe},{name:"base",type:ce}],type:he,jsSafe:!0},cadeia_e_logico:{id:Y,parameters:[{name:"cad",type:pe}],type:he,jsSafe:!0},cadeia_e_real:{id:Y,parameters:[{name:"cad",type:pe}],type:he,jsSafe:!0},cadeia_para_caracter:{id:Y,parameters:[{name:"cad",type:pe}],type:ue,jsSafe:!0},cadeia_para_inteiro:{id:Y,parameters:[{name:"cad",type:pe},{name:"base",type:ce}],type:ce,jsSafe:!0},cadeia_para_logico:{id:Y,parameters:[{name:"cad",type:pe}],type:he,jsSafe:!0},cadeia_para_real:{id:Y,parameters:[{name:"cad",type:pe}],type:le,jsSafe:!0},caracter_e_inteiro:{id:Y,parameters:[{name:"letra",type:ue}],type:he,jsSafe:!0},caracter_e_logico:{id:Y,parameters:[{name:"letra",type:ue}],type:he,jsSafe:!0},caracter_para_cadeia:{id:Y,parameters:[{name:"letra",type:ue}],type:pe,jsSafe:!0},caracter_para_inteiro:{id:Y,parameters:[{name:"letra",type:ue}],type:ce,jsSafe:!0},caracter_para_logico:{id:Y,parameters:[{name:"letra",type:ue}],type:he,jsSafe:!0},inteiro_e_caracter:{id:Y,parameters:[{name:"numero",type:ce}],type:he,jsSafe:!0},inteiro_para_cadeia:{id:Y,parameters:[{name:"numero",type:ce},{name:"base",type:ce}],type:pe,jsSafe:!0},inteiro_para_caracter:{id:Y,parameters:[{name:"numero",type:ce}],type:ue,jsSafe:!0},inteiro_para_logico:{id:Y,parameters:[{name:"numero",type:ce}],type:he,jsSafe:!0},inteiro_para_real:{id:Y,parameters:[{name:"numero",type:ce}],type:le,jsSafe:!0},logico_para_cadeia:{id:Y,parameters:[{name:"teste",type:he}],type:pe,jsSafe:!0},logico_para_caracter:{id:Y,parameters:[{name:"teste",type:he}],type:ue,jsSafe:!0},logico_para_inteiro:{id:Y,parameters:[{name:"teste",type:he}],type:ce,jsSafe:!0},real_para_cadeia:{id:Y,parameters:[{name:"numero",type:le}],type:pe,jsSafe:!0},real_para_inteiro:{id:Y,parameters:[{name:"numero",type:le}],type:ce,jsSafe:!0}}}var t,a;return t=e,(a=[{key:"resetar",value:function(){}},{key:"cadeia_e_caracter",value:function(e){return{value:1==e.length}}},{key:"cadeia_e_inteiro",value:function(e,t){if(e=e.toLowerCase(),2==t)return{value:/^[+-]?(0b)?[0-1]+$/.test(e)};if(10==t)return{value:/^[+-]?[0-9]+$/.test(e)};if(16==t)return{value:/^[+-]?(0x)?[0-9a-f]+$/.test(e)};throw"A base deve ser 2,10 ou 16"}},{key:"cadeia_e_logico",value:function(e){return{value:"verdadeiro"==e||"falso"==e}}},{key:"cadeia_e_real",value:function(e){return{value:/^[+-]?[0-9]+\.[0-9]+$/.test(e)}}},{key:"cadeia_para_caracter",value:function(e){if(this.cadeia_e_caracter(e).value)return{value:e.charAt(0)};throw"o valor '"+e+"' não pode ser convertido para caracter"}},{key:"cadeia_para_inteiro",value:function(e,t){if(this.cadeia_e_inteiro(e,t).value)return{value:parseInt(e,t)};throw"o valor '"+e+"' não pode ser convertido para inteiro"}},{key:"cadeia_para_logico",value:function(e){if("verdadeiro"==e)return{value:!0};if("falso"==e)return{value:!1};throw"o valor '"+e+"' não pode ser convertido para logico"}},{key:"cadeia_para_real",value:function(e){if(this.cadeia_e_real(e).value)return{value:parseFloat(e)};throw"o valor '"+e+"' não pode ser convertido para real"}},{key:"caracter_e_inteiro",value:function(e){return e=e.toLowerCase(),{value:/^[0-9]+$/.test(e)}}},{key:"caracter_e_logico",value:function(e){return{value:"s"==(e=e.toLowerCase())||"n"==e}}},{key:"caracter_para_cadeia",value:function(e){return{value:e}}},{key:"caracter_para_inteiro",value:function(e){if(this.caracter_e_inteiro(e).value)return{value:e.charCodeAt(0)-48};throw"o valor '"+e+"' não pode ser convertido para inteiro"}},{key:"caracter_para_logico",value:function(e){if("s"==(e=e.toLowerCase()))return{value:!0};if("n"==e)return{value:!1};throw"o valor '"+e+"' não pode ser convertido para logico"}},{key:"inteiro_e_caracter",value:function(e){return{value:e>=0&&e<=9}}},{key:"inteiro_para_cadeia",value:function(e,t){return{value:e.toString(t)}}},{key:"inteiro_para_caracter",value:function(e){if(this.inteiro_e_caracter(e).value)return{value:(""+e).charAt(0)};throw"o valor '"+e+"' não pode ser convertido para caracter"}},{key:"inteiro_para_logico",value:function(e){return{value:e>=1}}},{key:"inteiro_para_real",value:function(e){return{value:e}}},{key:"logico_para_cadeia",value:function(e){return{value:0==e?"verdadeiro":"falso"}}},{key:"logico_para_caracter",value:function(e){return{value:0==e?"s":"n"}}},{key:"logico_para_inteiro",value:function(e){return{value:0==e?1:0}}},{key:"real_para_cadeia",value:function(e){return{value:""+e}}},{key:"real_para_inteiro",value:function(e){return{value:Math.floor(e)}}}])&&Pt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Ut(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Bt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Bt(i)?i:String(i)),r)}var i}var Vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.members={aguarde:{id:Y,parameters:[{name:"intervalo",type:ce}],type:oe,jsSafe:!1},numero_elementos:{id:Y,parameters:[{name:"vetor",type:ve}],type:ce,jsSafe:!0},numero_colunas:{id:Y,parameters:[{name:"matriz",type:ye}],type:ce,jsSafe:!0},numero_linhas:{id:Y,parameters:[{name:"matriz",type:ye}],type:ce,jsSafe:!0},sorteia:{id:Y,parameters:[{name:"minimo",type:ce},{name:"maximo",type:ce}],type:ce,jsSafe:!0},tempo_decorrido:{id:Y,parameters:[],type:ce,jsSafe:!0}},this.resetar()}var t,a;return t=e,(a=[{key:"resetar",value:function(){this.time=(new Date).getTime()}},{key:"aguarde",value:function(e){return Be(e),{state:5}}},{key:"numero_colunas",value:function(e){return{value:e[0].length}}},{key:"numero_linhas",value:function(e){return{value:e.length}}},{key:"numero_elementos",value:function(e){return{value:e.length}}},{key:"sorteia",value:function(e,t){return t+=1,{value:Math.floor(Math.random()*(t-e))+e}}},{key:"tempo_decorrido",value:function(){return{value:(new Date).getTime()-this.time}}}])&&Ut(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Gt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==zt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===zt(i)?i:String(i)),r)}var i}var qt=10;function Ht(e,t){for(var a=e,r=2;r<arguments.length&&a<t.length;r++){if(t[a].id!=arguments[r])return!1;a++}return!0}function Jt(e,t){for(var a=0;a<e.length;a++){var r=e[a];r.id?r.id==qt||1==r.id?t.push(r):3==r.id||11==r.id||7==r.id||5==r.id||6==r.id?r.statements&&Jt(r.statements,t):4==r.id&&(r.statements_true&&Jt(r.statements_true,t),r.statements_false&&Jt(r.statements_false,t)):r.statements&&Jt(r.statements,t)}}var Xt=function(){function e(t,a,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokens=t,this.textInput=a,this.tree=[],this.enviarErro=r}var t,a;return t=e,(a=[{key:"erro",value:function(e,t){this.enviarErro?this.enviarErro(this.textInput,e,t,"semantico"):console.log("ERRO NO PARSER:",t)}},{key:"parse",value:function(){if(!Ht(0,this.tokens,64))return this.erro(this.tokens[0],"não encontrou o programa."),null;var e=this.extractBlock(1,this.tokens,19,20);return this.tree=this.parsePrograma(e.block),this.tree}},{key:"parsePrograma",value:function(e){for(var t={incluas:[],variaveis:[],funcoes:[]},a=0;a<e.length;a++){var r=e[a].id;if(66==r)a=this.parseDeclBiblioteca(a,e,t.incluas);else if(be(r)||82==r)a=this.parseDeclVariavel(a,e,t.variaveis);else if(65==r){var i=oe,n=!1,o=!1,s=[],c=[];if(be(e[++a].id)&&(i=e[a].id,e[++a].id==W)){n=i,i=W,o=0;do{e[++a].id!=Q&&this.erro(e[a],"esqueceu de fechar os colchetes na declaração de vetor"),a++,o++}while(e[a].id==W)}this.processingFuncType=i;var u=e[a].txt;a++,a=this.parseDeclParametros(a,e,s),a++,a=this.parseStatementOrBlock(a,e,c),t.funcoes.push({name:u,type:i,arrayType:n,arrayDim:o,parameters:s,statements:c})}else this.erro(e[a],"não é variável nem função, remova isso")}return t}},{key:"parseDeclBiblioteca",value:function(e,t,a){67!=t[++e].id&&(this.erro(t[e],"esperando 'biblioteca' logo após a palavra inclua"),e--);var r=t[++e].txt,i=!1;return 56==t[e+1].id&&(i=t[e+=2].txt),a.push({name:r,alias:i}),e}},{key:"parseDeclParametros",value:function(e,t,a){for(t[e].id!=Y&&this.erro(t[e],"esqueceu de abrir os parênteses da função"),e++;t[e].id!=$;){var r=!1;if(82==t[e].id&&(r=!0,e++),!be(t[e].id)){this.erro(t[e],"uma declaração de parâmetro deve começar com um tipo de variável"),e++;break}var i=t[e].index,n=t[e].id,o=!1;if(t[++e].id==U&&(o=!0,e++),t[e].id!=re){this.erro(t[e],"o nome do parâmetro é inválido, deve ser apenas letras"),e++;break}var s=t[e].txt;if(t[++e].id==W){var c=[];do{e++,c.push(!1),t[e].id!=Q&&this.erro(t[e],"esqueceu de fechar os colchetes na declaração de vetor"),e++}while(t[e].id==W);a.push({id:qt,index:i,type:n,isConst:r,byRef:o,name:s,size_expr:c,values:[]})}else a.push({id:1,index:i,type:n,isConst:r,byRef:o,name:s,expr:!1});if(17!=t[e].id)break;e++}return t[e].id!=$&&this.erro(t[e],"esqueceu de fechar os parênteses da função"),e}},{key:"parseStatementOrBlock",value:function(e,t,a){var r=t[e].id,i=t[e].index;if(19==r){var n=[];for(e++;e<t.length&&20!=t[e].id;)e=this.parseStatement(e,t,n),e++;return a.push({id:3,index:i,statements:n}),e}return this.parseStatement(e,t,a)}},{key:"parseStatement",value:function(e,t,a){var r=t[e].id,i=t[e].index;if(be(r)||82==r)e=this.parseDeclVariavel(e,t,a);else if(79==r)a.push({id:8,index:i});else if(80==r){var n=!1;this.processingFuncType!=oe&&(e++,n=[],e=this.parseExpressao(e,t,n,0),n=n[0]),a.push({id:9,index:i,expr:n})}else if(71==r){var o=[],s=[],c=!1;t[++e].id!=Y&&this.erro(t[e],"esqueceu de abrir os parênteses da condição se"),t[e=this.parseExpressao(e,t,o,0)].id!=$&&this.erro(t[e],"esqueceu de fechar os parênteses da condição se"),e++,e=this.parseStatementOrBlock(e,t,s),72==t[++e].id?(c=[],e++,e=this.parseStatementOrBlock(e,t,c)):e--,a.push({id:4,index:i,expr:o[0],statements_true:s,statements_false:c})}else if(73==r){var u=[],p=[];t[++e].id!=Y&&this.erro(t[e],"esqueceu de abrir os parênteses da condição do enquanto"),t[e=this.parseExpressao(e,t,u,0)].id!=$&&this.erro(t[e],"esqueceu de fechar os parênteses da condição do enquanto"),e++,e=this.parseStatementOrBlock(e,t,p),a.push({id:5,index:i,expr:u[0],statements:p})}else if(74==r){var l=[],h=[];e++,e=this.parseStatementOrBlock(e,t,h),73!=t[++e].id&&this.erro(t[e],"esperando 'enquanto' aqui, a estrutura faca está incompleta"),t[++e].id!=Y&&this.erro(t[e],"esqueceu de abrir os parênteses da condição do enquanto"),t[e=this.parseExpressao(e,t,l,0)].id!=$&&this.erro(t[e],"esqueceu de fechar os parênteses da condição do enquanto"),a.push({id:6,index:i,expr:l[0],statements:h})}else if(75==r){var d=!1,m=!1,f=!1,v=[];t[++e].id!=Y&&(this.erro(t[e],"esqueceu de abrir os parênteses do laço para"),e--),16!=t[++e].id?(d=[],e=this.parseStatement(e,t,d),1==d.length&&1!=d[0].id&&2!=d[0].id&&(this.erro(t[e],"dentro do para só pode declarações de variáveis e expressões. remova isso"),d=!1)):e--,16!=t[++e].id&&(this.erro(t[e],"estava esperando o ponto e vírgula do para aqui!"),e--),16!=t[++e].id?(m=[],e=this.parseExpressao(e,t,m,0)):e--,16!=t[++e].id&&(this.erro(t[e],"estava esperando o ponto e vírgula do para aqui!"),e--),t[++e].id!=$&&(f=[],e=this.parseExpressao(e,t,f,0),t[++e].id!=$&&(this.erro(t[e-1],"esqueceu de fechar os parênteses do para!"),e--)),e++,e=this.parseStatementOrBlock(e,t,v),a.push({id:7,index:i,decl:d,expr:m[0],inc:f[0],statements:v})}else if(76==r){var y=[],g=[];t[++e].id!=Y&&this.erro(t[e],"esqueceu de abrir os parênteses do escolha"),t[e=this.parseExpressao(e,t,y,0)].id!=$&&this.erro(t[e],"esqueceu de fechar os parênteses do escolha"),e++,e=this.parseStatementOrBlock(e,t,g),a.push({id:11,index:i,expr:y[0],statements:g})}else if(77==r){var _=[],b=!1;78==t[++e].id?(_=!1,b=!0):e=this.parseExpressao(e,t,_,0),25!=t[++e].id&&this.erro(t[e],"esqueceu dos dois-pontos depois do caso:"+t[e].id),a.push({id:12,contrario:b,index:i,expr:_[0]})}else{var E=[];e=this.parseExpressao(e,t,E,0),a.push({id:2,index:i,expr:E[0]})}return e}},{key:"parseDeclArray",value:function(e,t,a){19!=t[e].id&&this.erro(t[e],"esqueceu de abrir as chaves na declaração dos valores do vetor");do{if(19==t[++e].id){var r=[];e=this.parseDeclArray(e,t,r),a.push(r)}else e=this.parseExpressao(e,t,a,0);e++}while(17==t[e].id);return e}},{key:"parseDeclVariavel",value:function(e,t,a){var r=!1;82==t[e].id&&(r=!0,e++);var i=t[e].id;if(!be(i))return this.erro(t[e],"decl. de variável incompleta, falta o tipo da variável:"),e;for(;;){var n=t[e+1].index;if(t[e+1].id==re&&t[e+2].id==W){var o=t[++e].txt,s=[];do{t[e+2].id!=Q?e=this.parseExpressao(e+2,t,s,0):(s.push(!1),e++),t[++e].id!=Q&&this.erro(t[e],"esqueceu de fechar os colchetes na declaração de vetor")}while(t[e+1].id==W);var c=!1;if(t[e+1].id==P)if(c={index:n},19==t[1+ ++e].id){var u=[];e=this.parseDeclArray(e+1,t,u),c.id=13,c.expr=u}else{var p=[];e=this.parseExpressao(e+1,t,p,0),c.id=2,c.expr=p[0]}a.push({id:qt,index:n,type:i,isConst:r,name:o,size_expr:s,expr:c})}else if(t[e+1].id==re&&t[e+2].id==P){var l=t[e+1].txt,h=[];e=this.parseExpressao(e+3,t,h,0),a.push({id:1,index:n,type:i,isConst:r,name:l,expr:h[0]})}else if(t[e+1].id==re){var d=t[e+1].txt;r&&this.erro(t[e],"não pode declarar uma variável constante e não definir o valor imediatamente."),a.push({id:1,index:n,type:i,isConst:r,name:d,expr:!1}),e++}else this.erro(t[e+1],"decl. de variável incompleta, falta o nome da variável:"),e++;if(e++,t.length<=e||17!=t[e].id){e--;break}}return e}},{key:"parseExpressao",value:function(e,t,a,r){var i,n=t[e].id,o=[];if(K(n)){if(!te(n))return this.erro(t[e],"expressao numérica inválida, falta um dos operandos"),e;if(3==n&&(n=x),4==n&&(n=k),n==_&&(n=b),n==T&&(n=A),e++,!(t.length>e))return this.erro(t[e],"expressao numérica inválida, falta o operando à frente"),e;o.op=n,e=this.parseExpressao(e,t,o,ee(o.op))}else e=this.parseExprMember(e,t,o),e++,t.length>e&&ae(t[e].id)?o.op=t[e].id:(e--,o=o[0]);for(;;){if(e++,t.length<=e||3!=(i=t[e].id)&&4!=i&&(!K(i)||te(i)||ae(i)))return a.push(o),--e;var s=t[e].id;if(ee(s)<=r)return a.push(o),--e;(o=[o]).op=s,e++,e=this.parseExpressao(e,t,o,ee(o.op))}}},{key:"parseExprMember",value:function(e,t,a){if(Ht(e,t,re,X)){var r=t[e].txt,i={op:re,name:t[e+=2].txt};return t[e+1].id==Y&&(i=[],e=this.parseMethCall(e,t,i),i=i[0]),a.push({op:X,name:r,expr:i}),e}if(Ht(e,t,re,Y))return this.parseMethCall(e,t,a);if(Ht(e,t,re,W)){var n=t[e].txt,o=[];do{t[e+2].id!=Q?e=this.parseExpressao(e+2,t,o,0):(this.erro(t[e],"esperando expressão que indica a posição do vetor, mas não encontrou nada"),o.push({op:xe,value:"0"}),e++),t[++e].id!=Q&&this.erro(t[e],"esqueceu de fechar os colchetes na declaração de vetor")}while(t[e+1].id==W);return a.push({op:W,name:n,expr:o}),e}return Ht(e,t,re)?(a.push({op:re,name:t[e].txt}),e):Ht(e,t,Y)?(t[(e=this.parseExpressao(e+1,t,a,0))+1].id!=$&&this.erro(t[e+1],"esqueceu de fechar os parênteses da expressão númerica"),e+1):(s=t[e].id)>=xe&&s<=ke?(a.push({op:t[e].id,value:t[e].txt}),e):(this.erro(t[e],"esperando por membro de expressao, remova isso"),e);var s}},{key:"parseMethCall",value:function(e,t,a){var r=t[e].txt,i=[];if(t[1+ ++e].id!=$){for(;e=this.parseExpressao(e+1,t,i),e++,!(t.length<=e||17!=t[e].id););t[e].id!=$&&(this.erro(t[e-1],"esqueceu de fechar os parênteses da chamada de função."),e--)}else e++;return a.push({op:Y,name:r,args:i}),e}},{key:"skipTo",value:function(e,t,a){for(var r=e;r<t.length;r++)if(t[r].id==a)return r;return-1}},{key:"extractBlock",value:function(e,t,a,r){var i=[],n=0;t[e].id!=a&&(this.erro(t[e],"esqueceu de abrir o bloco, antes de '"+t[e].txt+"'"),n+=1);for(var o=e;o<t.length;o++)if(t[o].id==a)++n>1&&i.push(t[o]);else if(t[o].id==r){if(--n<=0)return{block:i,index:o};i.push(t[o])}else i.push(t[o]);return this.erro(t[e],"não encontrou o fim do bloco iniciado com "+t[e].txt),{block:i,index:o}}}])&&Gt(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yt(e){return Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yt(e)}function $t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Yt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Yt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Yt(i)?i:String(i)),r)}var i}var Wt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listaPalavras=["leia()"],this.listaPalavras=this.listaPalavras.concat(d),this.listaPalavras=this.listaPalavras.concat(m),this.identifierRegexps=[/[^\s\+\-\*\/%><!=&|^~;,.{}()\[\]:]+/],this.tokenizer=!1,this.librariesNames=Object.keys(t),this.libraries=t,this.incluas=!1,this.functions=!1,this.variaveisGlobais=!1,this.todasvariaveis=!1}var t,a;return t=e,a=[{key:"setCompiler",value:function(e){e.tokenizer&&(this.tokenizer=e.tokenizer),e.compiler&&(this.incluas=e.compiler.incluas,this.functions=e.compiler.functions),e.tree&&(this.variaveisGlobais=e.tree.variaveis,this.todasvariaveis=[],Jt(e.tree.funcoes,this.todasvariaveis))}},{key:"getFunctionDefinition",value:function(e,t,a,r){if(r==re){var i=e;return a?i+" : "+Ee(t.type):i}if(r==Y){var n=e+"(";if(t.parameters)for(var o=0;o<t.parameters.length;o++){o>0&&(n+=",");var s=t.parameters[o];"object"===Yt(s)&&(n+=Ee(s.type),n+=" ",n+=s.name)}return a?n+") : "+Ee(t.type):n+")"}}},{key:"getCompletions",value:function(e,t,a,r,i){var n=this,o=performance.now(),s=o,c=[],u=r,p=e.session.getLine(a.row),l=Math.trunc(performance.now()-s);s=performance.now();for(var h=0;h<this.listaPalavras.length;h++){var d=this.listaPalavras[h];c.push({value:d,caption:d,meta:"sugestão",tooltip:"",score:0})}var m=Math.trunc(performance.now()-s);s=performance.now();for(var f=0;f<this.librariesNames.length;f++){var v=this.librariesNames[f],y="inclua biblioteca "+v+" --\x3e "+v.toLowerCase().charAt(0);c.push({value:y,caption:y,meta:"Biblioteca",tooltip:"Incluir a biblioteca",score:0})}var g=Math.trunc(performance.now()-s);if(s=performance.now(),this.functions)for(var _=0;_<this.functions.length;_++){var b=this.functions[_];b.name.includes("$")||b.name.includes("#")||c.push({caption:this.getFunctionDefinition(b.name,b,!0,Y),meta:"Função",value:this.getFunctionDefinition(b.name,b,!1,Y),tooltip:"Função criada neste programa.",score:0})}var E=Math.trunc(performance.now()-s);if(s=performance.now(),this.variaveisGlobais)for(var x=0;x<this.variaveisGlobais.length;x++){var T=this.variaveisGlobais[x];c.push({caption:this.getFunctionDefinition(T.name,T,!0,re),meta:"Variável Global",value:this.getFunctionDefinition(T.name,T,!1,re),tooltip:"Variável Global neste programa.",score:0})}var A=Math.trunc(performance.now()-s);if(s=performance.now(),this.todasvariaveis)for(var S=0;S<this.todasvariaveis.length;S++){var k=this.todasvariaveis[S];c.push({caption:this.getFunctionDefinition(k.name,k,!0,re),meta:"Variável Local",value:this.getFunctionDefinition(k.name,k,!1,re),tooltip:"Variável Local neste programa.",score:0})}var C=Math.trunc(performance.now()-s);if(s=performance.now(),this.incluas){var w=p.lastIndexOf("."),L="";-1!=w&&(L=p.substring(0,w));for(var O=w+1==a.column,j=function(e){if(c.push({caption:n.librariesNames[e],meta:"Biblioteca",value:n.librariesNames[e],tooltip:"Nome de Biblioteca.",score:0}),O&&L.endsWith(n.librariesNames[e])){var t=n.libraries[n.librariesNames[e]];c=c.concat(Object.keys(t.members).map((function(a){return{caption:n.getFunctionDefinition(a,t.members[a],!0,t.members[a].id),meta:n.librariesNames[e],value:n.getFunctionDefinition(a,t.members[a],!1,t.members[a].id),tooltip:"Membro da Biblioteca "+n.librariesNames[e],score:1e5}})))}},I=0;I<this.librariesNames.length;I++)j(I);if(this.incluas)for(var R=function(e){var t=n.incluas[e];if(c.push({caption:t.alias+" ("+t.name+")",meta:"Biblioteca",value:t.alias,tooltip:"Abreviação da Biblioteca "+t.name,score:0}),O&&L.endsWith(t.alias)){var a=n.libraries[t.name];c=c.concat(Object.keys(a.members).map((function(e){return{caption:n.getFunctionDefinition(e,a.members[e],!0,a.members[e].id),meta:t.name,value:n.getFunctionDefinition(e,a.members[e],!1,a.members[e].id),tooltip:"Membro da Biblioteca "+t.name,score:1e5}})))}},M=0;M<this.incluas.length;M++)R(M)}var D=Math.trunc(performance.now()-s);s=performance.now(),Math.trunc(performance.now()-o)>100&&console.log("Sugestoes Tempo de execução:"+Math.trunc(performance.now()-o)+" milissegundos ["+l+" "+m+" "+g+" "+A+" "+E+" "+C+" "+D+"]"),i(null,c.filter((function(e){return""==u||"string"==typeof e.value&&e.value.includes(u)})))}},{key:"getDocTooltip",value:function(e){e.docHTML||(e.docHTML=["<b>",e.caption,"</b>","<hr></hr>",e.tooltip].join(""))}}],a&&$t(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==Qt(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Qt(i)?i:String(i)),r)}var i}function ea(e,t,a){return t&&Zt(e.prototype,t),a&&Zt(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function ta(e,t){switch(e){case ce:return 0;case ue:return"\0";case pe:return"";case le:return 0;case he:return!!t&&1;case W:return[]}}function aa(e,t,a){if(e==ve&&t>=de&&t<=105&&(e=t),e==ye&&t>=me&&t<=fe&&(e=t),e==oe&&(e=t),e>=de&&e<=fe)return a==P&&e==t;switch(a){case P:case E:case 3:case S:case 4:case C:case 5:case w:case 6:case L:case 7:case O:case 38:case I:case 41:case B:case U:case z:case G:case q:case H:switch(e){case ce:case le:return t==ce||t==le||(3==a||a==E)&&t==pe;case pe:return a==P||3==a||a==E;case ue:return!(a!=P&&3!=a&&a!=E||t!=pe&&t!=ue);case he:return(3==a||a==E)&&t==pe||a==P||a==G||a==U||a==H||a==B||a==z||a==q}break;case 50:case J:return!0;case k:case x:case _:case T:case b:case A:return e==ce||e==le;case N:case V:return e==he&&t==he;case D:return e==he;case R:case 9:case j:case 8:return e==t&&e!=he&&t!=he||(e==ce||e==le)&&(t==ce||t==le);case M:case F:return e==t;case W:return t==ce}}function ra(e,t){return e==t?e:e==pe||t==pe||e==ue||t==ue?pe:e==he||t==he?he:e==le||t==le?le:e}var ia=function(){function e(){Kt(this,e),this.maxVarCount=0,this.jsSafe=!0,this.funCalls=[]}return ea(e,[{key:"addFuncCall",value:function(e){this.funCalls.push(e),e.jsSafe||(console.log("Marcou como unsafe porque chamou a função "+e.name),this.jsSafe=!1)}}]),e}(),na=function(){function e(t,a){Kt(this,e),this.parentScope=t,this.endJumps=a}return ea(e,[{key:"addJump",value:function(e){this.endJumps.push(e)}}]),e}(),oa=function(){function e(t,a,r){Kt(this,e),this.parentScope=t,this.endJumps=a,this.casoJumps=r,this.casoJumpsIndex=0,this.contrario=!1}return ea(e,[{key:"addJump",value:function(e){this.endJumps.push(e)}},{key:"getNextCasoJump",value:function(){var e=this.casoJumps[this.casoJumpsIndex];return this.casoJumpsIndex++,e}},{key:"getContrarioJump",value:function(){return this.contrario=!0,this.casoJumps[this.casoJumps.length-1]}}]),e}(),sa=function(){function e(t,a,r){Kt(this,e),this.parentScope=t,this.funcScopeRef=r,this.vars={},this.globalScope=a||!1,t?(this.varCount=t.varCount,this.globalCount=t.globalCount):(this.varCount=0,this.globalCount=0)}return ea(e,[{key:"createVar",value:function(e,t){this.vars[e]=t,this.globalScope?this.globalCount++:this.varCount++,this.funcScopeRef&&this.varCount>this.funcScopeRef.maxVarCount&&(this.funcScopeRef.maxVarCount=this.varCount)}},{key:"getVar",value:function(e){var t=this.vars[e];return!t&&this.parentScope&&(t=this.parentScope.getVar(e)),t}}]),e}(),ca=function(){function e(t,a,r,i,n,o){Kt(this,e),this.codeTree=t,this.tokens=r,this.textInput=i,this.libraries=a,this.saida="",this.saida_div=n,this.functions=[],this.incluas=[],this.scope=!1,this.loopScope=!1,this.enviarErro=o}return ea(e,[{key:"erro",value:function(e){this.enviarErro?this.enviarErro(this.textInput,{index:this.lastIndex},e,"contexto"):console.log("ERRO NO COMPILADOR:",e)}},{key:"getFuncIndex",value:function(e,t){for(var a=0;a<this.functions.length;a++)if(this.functions[a].name==e){var r=this.functions[a].parameters;if(r.length!=t.length)continue;for(var i=!0,n=0;n<r.length;n++){var o=r[n].type;if(r[n].id==qt){var s=r[n].size_expr.length;1==s&&(o=ge(o)),2==s&&(o=_e(o))}if(!aa(o,t[n],P)){i=!1;break}}if(!i)continue;return a}return this.erro("a função '"+e+"' com "+t.length+" argumentos e tipos:"+function(e){for(var t=Ee(e[0]),a=1;a<e.length;a++)t+=", ",t+=Ee(e[a]);return t}(t)+" não foi encontrada"),0}},{key:"checkFuncJsSafety",value:function(e,t,a){if(!e.jsSafe)return!1;if(e.name.startsWith("_unsafe_"))return!1;if(t>10)return e.jsSafe=!1,!1;if(e.parameters)for(var r=0;r<e.parameters.length;r++)if(e.parameters[r].byRef)return e.jsSafe=!1,!1;if(!e.funCalls||0==e.funCalls.length)return!0;for(var i=0;i<e.funCalls.length;i++){var n=Array.from(a);if(n.push(e.funCalls[i]),!this.checkFuncJsSafety(e.funCalls[i],t+1,n))return e.jsSafe=!1,!1}return!0}},{key:"compile",value:function(){var e=this.codeTree.funcoes,t=this.codeTree.variaveis;this.incluas=this.codeTree.incluas,this.functions=[{name:"$undefined",bytecode:[1,"<Função desconhecida>",100,De],varCount:0,parameters:[],type:oe,jsSafe:!1},{name:"escreva",bytecode:[Me,0,100,De],varCount:1,parameters:[],type:oe,jsSafe:!0},{name:"limpa",bytecode:[107,De],varCount:0,parameters:[],type:oe,jsSafe:!0},{name:"leia$inteiro",bytecode:[Pe,102,Fe,De],varCount:0,parameters:[],type:oe,jsSafe:!1},{name:"leia$real",bytecode:[Pe,103,Fe,De],varCount:0,parameters:[],type:oe,jsSafe:!1},{name:"leia$cadeia",bytecode:[Pe,104,Fe,De],varCount:0,parameters:[],type:oe,jsSafe:!1},{name:"leia$caracter",bytecode:[Pe,105,Fe,De],varCount:0,parameters:[],type:oe,jsSafe:!1},{name:"leia$logico",bytecode:[Pe,106,Fe,De],varCount:0,parameters:[],type:oe,jsSafe:!1},{name:"sorteia",bytecode:[Me,0,Me,1,55,"Util","sorteia",2,Fe,De],varCount:2,parameters:[{id:1,index:0,type:ce,isConst:!1,byRef:!1,expr:!1,name:"de"},{id:1,index:0,type:ce,isConst:!1,byRef:!1,expr:!1,name:"ate"}],type:ce,jsSafe:!0}],this.scope=new sa(this.scope,!0,!1);var a={name:"#globalInit",bytecode:[],bytecodeIndexes:{},varCount:0,jsSafe:!1};this.funcScopeRef=new ia,this.compileStatements(t,a),this.functions.push(a);for(var r=this.functions.length,i=0;i<e.length;i++)this.functions.push({name:e[i].name,parameters:e[i].parameters,type:e[i].type,bytecode:[],bytecodeIndexes:{},varCount:0,jsSafe:!0});for(var n=0;n<e.length;n++)this.funcScopeRef=new ia,this.scope=new sa(this.scope,!1,this.funcScopeRef),this.compileStatements(e[n].parameters,this.functions[r+n]),this.compileStatements(e[n].statements,this.functions[r+n]),this.compileFunctionRet(this.functions[r+n],!1),this.scope=this.scope.parentScope,this.functions[r+n].varCount=this.funcScopeRef.maxVarCount,this.functions[r+n].jsSafe=this.funcScopeRef.jsSafe,this.functions[r+n].funCalls=this.funcScopeRef.funCalls;for(var o=0;o<this.functions.length;o++){var s=this.functions[o];s.jsSafe=this.checkFuncJsSafety(s,0,[s])}a.bytecode.push(21);var c=this.getFuncIndex("inicio",[]);a.bytecode.push(c),a.bytecode.push(0),this.compileFunctionRet(a,!1),this.globalCount=this.scope.varCount,this.scope=this.scope.parentScope}},{key:"replaceAllBy",value:function(e,t,a){for(var r=0;r<t.length;r++)e[t[r]]=a}},{key:"createVar",value:function(e,t,a,r,i){var n=this.scope.getVar(e);if(n)return this.erro("a variável '"+e+"' já foi declarada"),n;var o=t;return r&&(1==i?o=ge(t):2==i?o=_e(t):this.erro("Matrizes com 3 ou mais dimensões não suportados")),n={type:o,name:e,index:this.scope.globalScope?this.scope.globalCount:this.scope.varCount,global:this.scope.globalScope,isConst:a,isArray:r,arrayType:r?t:oe,arrayDim:i},this.scope.createVar(e,n),n}},{key:"getVar",value:function(e){return this.scope.getVar(e)||(this.erro("não encontrou a variável '"+e+"', esqueceu de declará-la?"),this.createVar(e,pe,!1,!1))}},{key:"compileDeclArray",value:function(e,t,a,r,i){for(var n=0;n<e.length;n++)if(r<=1){var o=this.compileExpr(e[n],t,a.arrayType);this.tryConvertType(a.arrayType,o,t),aa(a.arrayType,o,P)||this.erro("não pode colocar "+Ee(o)+" em uma variável do tipo "+Ee(a.arrayType));for(var s=0;s<i.length;s++)t.push(1),t.push(i[s]);t.push(1),t.push(n),t.push(a.global?52:49),t.push(a.index),t.push(a.arrayDim)}else i.push(n),this.compileDeclArray(e[n],t,a,r-1,i),i.pop()}},{key:"compileFunctionRet",value:function(e,t){var a=e.bytecode;if(t){var r=this.compileExpr(t,a,-1);r==oe&&this.erro("não usar esta expressão para retornar, pois ela não produz valor nenhum, arrume esta expressão."),r!=e.type&&this.erro("não pode retornar "+Ee(r)+" nesta função, ela é do tipo "+Ee(e.type))}if(e.parameters)for(var i=0;i<e.parameters.length;i++)if(e.parameters[i].byRef&&1==e.parameters[i].id){var n=this.getVar(e.parameters[i].name);a.push(Me),a.push(n.index),a.push(Fe)}t?(a.push(Fe),a.push(De)):a.push(De)}},{key:"shallowExtract",value:function(e,t){for(var a=[],r=0;r<e.length;r++)3==e[r].id?a=a.concat(this.shallowExtract(e[r].statements,t)):e[r].id==t&&a.push(e[r]);return a}},{key:"compileStatements",value:function(e,t){for(var a=t.bytecode,r=t.bytecodeIndexes,i=0;i<e.length;i++){var n=e[i];switch(this.lastIndex=n.index,r[a.length]=this.lastIndex,n.id){case qt:for(var o=n.size_expr.length,s=this.createVar(n.name,n.type,n.isConst,!0,o),c=0,u=0;u<o;u++)if(n.size_expr[u]){var p=this.compileExpr(n.size_expr[u],a,ce);this.tryConvertType(ce,p,a),c++}if(0!=c)c!=o&&this.erro("não especificou um dos tamanhos da matriz."),a.push(s.global?51:48),a.push(s.index),a.push(c),a.push(ta(s.arrayType,s.global));else if(n.expr&&13==n.expr.id&&0==c){for(var l=n.expr.expr,h=0;h<o;h++)h>0&&(l=l[0]),a.push(1),a.push(l.length);a.push(s.global?51:48),a.push(s.index),a.push(o),a.push(ta(s.arrayType,s.global))}if(n.expr)if(13==n.expr.id)this.compileDeclArray(n.expr.expr,a,s,o,[]);else if(2==n.expr.id){var d=this.compileExpr(n.expr.expr,a,s.type);aa(s.type,d,P)||this.erro("não pode colocar "+Ee(d)+" em uma variável do tipo "+Ee(s.type)),a.push(s.global?40:22),a.push(s.index)}break;case 1:var m=this.createVar(n.name,n.type,n.isConst,!1);if(n.expr){var f=this.compileExpr(n.expr,a,n.type);this.tryConvertType(m.type,f,a),aa(m.type,f,P)||this.erro("não pode colocar "+Ee(f)+" em uma variável do tipo "+Ee(m.type)),a.push(m.global?40:22),a.push(m.index)}break;case 2:Z(n.expr.op)||n.expr.op==_||n.expr.op==T||n.expr.op==b||n.expr.op==A||n.expr.op==Y||n.expr.op==X||this.erro("Esta expressão não pode ficar sozinha, talvez tenha esquecido um operador matemático"),this.compileExpr(n.expr,a,oe)!=oe&&a.push(2);break;case 3:this.scope=new sa(this.scope,!1,this.funcScopeRef),this.compileStatements(n.statements,t),this.scope=this.scope.parentScope;break;case 4:var v=[];if(this.compileLogicalExpr(n.expr,a,!1,v),this.compileStatements(n.statements_true,t),n.statements_false){a.push(Ie);var y=a.length;a.push(0),this.replaceAllBy(a,v,a.length),this.compileStatements(n.statements_false,t),a[y]=a.length}else this.replaceAllBy(a,v,a.length);break;case 5:var g=[],E=a.length;this.compileLogicalExpr(n.expr,a,!1,g),this.loopScope=new na(this.loopScope,g),this.compileStatements(n.statements,t),this.loopScope=this.loopScope.parentScope,a.push(Ie),a.push(E),this.replaceAllBy(a,g,a.length);break;case 6:var x=[],S=[],k=a.length;this.loopScope=new na(this.loopScope,S),this.compileStatements(n.statements,t),this.loopScope=this.loopScope.parentScope,this.compileLogicalExpr(n.expr,a,x,!1),this.replaceAllBy(a,x,k),this.replaceAllBy(a,S,a.length);break;case 7:var C=[];this.scope=new sa(this.scope,!1,this.funcScopeRef),n.decl&&this.compileStatements(n.decl,t);var w=a.length;n.expr&&this.compileLogicalExpr(n.expr,a,!1,C),this.loopScope=new na(this.loopScope,C),this.compileStatements(n.statements,t),this.loopScope=this.loopScope.parentScope,n.inc&&this.compileExpr(n.inc,a,oe)!=oe&&a.push(2),a.push(Ie),a.push(w),this.replaceAllBy(a,C,a.length),this.scope=this.scope.parentScope;break;case 8:this.loopScope?(a.push(Ie),a.push(0),this.loopScope.addJump(a.length-1)):this.erro("o 'pare' não faz sentido aqui, nenhum laço de repetição para parar.");break;case 9:this.compileFunctionRet(t,n.expr);break;case 11:var L=this.compileExpr(n.expr,a,-1);L==oe&&this.erro("A expressão do escolha deveria retornar um valor...");var O=[],j=this.shallowExtract(n.statements,12);0==j.length&&this.erro("escolha-caso sem casos? não faz sentido algum.");for(var I=[],R=0;R<j.length;R++)j[R].contrario||(R<j.length-1&&a.push(Re),this.compileExpr(j[R].expr,a,L)!=L&&this.erro("O caso deveria ter o mesmo tipo que o valor do escolha"),a.push(31),a.push(0),I.push(a.length-1));a.push(Ie),a.push(0),I.push(a.length-1),this.loopScope=new oa(this.loopScope,O,I),this.compileStatements(n.statements,t),this.loopScope.contrario||(a[this.loopScope.getContrarioJump()]=a.length),this.loopScope=this.loopScope.parentScope,this.replaceAllBy(a,O,a.length);break;case 12:this.loopScope&&this.loopScope instanceof oa?a[n.contrario?this.loopScope.getContrarioJump():this.loopScope.getNextCasoJump()]=a.length:this.erro("o 'caso' não faz sentido aqui, deve ser colocado em uma estrutura escolha.")}}}},{key:"tryConvertType",value:function(e,t,a){e==pe?t==ce?a.push(43):t==le?a.push(44):t==he&&a.push(45):e==ce&&t==le&&a.push(42)}},{key:"compileLogicalExpr",value:function(e,t,a,r){if(e.op!=N&&e.op!=V&&e.op!=j&&8!=e.op&&e.op!=R&&9!=e.op&&e.op!=F&&e.op!=M&&e.op!=D)return this.compileExpr(e,t,he)==he||!1===a&&!1===r||this.erro("esta deveria ser uma expressão lógica. lembre-se que '=' é diferente de '==' "),!1===a&&!1===r||(!1===r?(t.push(14),t.push(0),a.push(t.length-1)):!1===a?(t.push(15),t.push(0),r.push(t.length-1)):(t.push(14),t.push(0),t.push(Ie),t.push(0),a.push(t.length-3),r.push(t.length-1))),he;var i=oe,n=oe;if(e.op==D)return i=this.compileLogicalExpr(e[0],t,r,a),!1===a&&!1===r&&t.push(39),he;if(e.op==N||e.op==V){if(e.op==N){var o=[];if(!1!==r&&(o=r),i=this.compileLogicalExpr(e[0],t,!1,o),n=this.compileLogicalExpr(e[1],t,a,o),!1===a&&!1===r){var s=t.length+6,c=t.length+4;this.replaceAllBy(t,o,c),t.push(1),t.push(0),t.push(Ie),t.push(s),t.push(1),t.push(1)}else!1===r&&this.replaceAllBy(t,o,t.length)}if(e.op==V){var u=[];if(!1!==a&&(u=a),i=this.compileLogicalExpr(e[0],t,u,!1),n=this.compileLogicalExpr(e[1],t,u,r),!1===a&&!1===r){var p=t.length+6,l=t.length+4;this.replaceAllBy(t,u,l),t.push(1),t.push(1),t.push(Ie),t.push(p),t.push(1),t.push(0)}else!1===a&&this.replaceAllBy(t,u,t.length)}i==oe||n==oe?this.erro("um dos elementos da expressão não retorna nenhum valor."):aa(i,n,e.op)||this.erro("não pode aplicar a operação "+y(e.op)+" com os tipos "+Ee(i)+" e "+Ee(n))}else{switch((i=this.compileExpr(e[0],t,-1))==oe&&(t.push(1),t.push(0)),(n=this.compileExpr(e[1],t,-1))==oe&&(t.push(1),t.push(0)),i==oe||n==oe?this.erro("um dos elementos da expressão não retorna nenhum valor."):aa(i,n,e.op)||this.erro("não pode aplicar a operação "+y(e.op)+" com os tipos "+Ee(i)+" e "+Ee(n)),e.op){case j:t.push(33);break;case 8:t.push(34);break;case R:t.push(35);break;case 9:t.push(36);break;case M:t.push(31);break;case F:t.push(32);break;default:this.erro("ERRO CRÍTICO: operador incorreto:"+e.op)}if(!1===a&&!1===r){var h=t.length+7,d=t.length+5;t.push(d),t.push(1),t.push(0),t.push(Ie),t.push(h),t.push(1),t.push(1)}else!1===r?(t.push(t.length+3),t.push(Ie),t.push(0),a.push(t.length-1)):!1===a?(t.push(0),r.push(t.length-1)):(t.push(0),t.push(Ie),t.push(0),a.push(t.length-1),r.push(t.length-3))}return he}},{key:"compileMemberAttrib",value:function(e,t,a){if(t.isArray&&e&&e.expr){for(var r=0;r<e.expr.length;r++){var i=this.compileExpr(e.expr[r],a,ce);i==oe?(this.erro("a expressão que indica a posição do vetor não retorna valor nenhum"),a.push(1),a.push(0)):i!=ce&&this.erro("para acessar um vetor ou matriz, deve informar um valor numérico do tipo inteiro.")}a.push(t.global?52:49),a.push(t.index),a.push(e.expr.length),e.expr.length!=t.arrayDim&&this.erro("seu vetor é de "+t.arrayDim+" dimensões, porém indexou "+e.expr.length+" dimensões.")}else a.push(t.global?40:22),a.push(t.index);t.isConst&&this.erro("não pode alterar o valor da constante '"+t.name+"'")}},{key:"compileExpr",value:function(e,t,a){if(!e)return oe;if(e.op==N||e.op==V||e.op==j||8==e.op||e.op==R||9==e.op||e.op==F||e.op==M||e.op==D)return this.compileLogicalExpr(e,t,!1,!1);if(2==e.length){var r=oe,i=oe;if(e.op==P){var n=this.getVar(e[0].name);return r=n.isArray&&e[0].expr?n.arrayType:n.type,i=this.compileExpr(e[1],t,r),this.tryConvertType(r,i,t),a!=oe&&t.push(Re),this.compileMemberAttrib(e[0],n,t),aa(r,i,e.op)||this.erro("não pode colocar "+Ee(i)+" em uma variável do tipo "+Ee(r)),a!=oe?r:oe}var o=-1;Z(e.op)&&(o=e[0].type),(r=this.compileExpr(e[0],t,-1))==oe&&(t.push(1),t.push(0)),(i=this.compileExpr(e[1],t,o))==oe&&(t.push(1),t.push(0)),r==oe||i==oe?this.erro("um dos elementos da expressão não retorna nenhum valor."):aa(r,i,e.op)||this.erro("não pode aplicar a operação "+y(e.op)+" com os tipos "+Ee(r)+" e "+Ee(i));var s=ra(r,i);if(s==r||s!=ce&&s!=pe||(t.push(47),this.tryConvertType(s,r,t),t.push(47)),s!=i&&this.tryConvertType(s,i,t),s!=ce||6!=e.op&&e.op!=w)switch(e.op){case E:case 3:t.push(3);break;case S:case 4:t.push(4);break;case C:case 5:t.push(5);break;case w:case 6:t.push(6);break;case L:case 7:t.push(7);break;case O:case 38:t.push(27);break;case I:case 41:t.push(26);break;case B:case U:r==he?t.push(30):t.push(29);break;case z:case G:r==he?t.push(29):t.push(30);break;case q:case H:t.push(28);break;default:this.erro("o operador "+y(e.op)+" não pode ter dois operandos."),t.push(3)}else t.push(8);if(Z(e.op)){var c=this.getVar(e[0].name);return a!=oe&&t.push(Re),this.compileMemberAttrib(e[0],c,t),a!=oe?r:oe}return s}switch(e.op){case x:return this.compileExpr(e[0],t,-1);case k:var u=this.compileExpr(e[0],t,-1);return t.push(37),u;case _:case b:var p=this.getVar(e[0].name),l=this.compileExpr(e[0],t,-1);return e.op==_&&a!=oe&&t.push(Re),t.push(1),t.push(1),t.push(3),e.op==b&&a!=oe&&t.push(Re),this.compileMemberAttrib(e[0],p,t),a!=oe?l:oe;case T:case A:var h=this.getVar(e[0].name),d=this.compileExpr(e[0],t,-1);return e.op==T&&a!=oe&&t.push(Re),t.push(1),t.push(1),t.push(4),e.op==A&&a!=oe&&t.push(Re),this.compileMemberAttrib(e[0],h,t),a!=oe?d:oe;case J:var m=this.compileExpr(e[0],t,-1);return t.push(38),m;case Y:var f=e.args;if("escreva"==e.name){for(var v=0;v<f.length;v++){var g=this.compileExpr(f[v],t,-1);this.tryConvertType(pe,g,t),t.push(21);var $=this.getFuncIndex(e.name,[]);t.push($),t.push(1)}return oe}if("leia"==e.name){console.log("Marcou como unsafe porque chamou a função leia"),this.funcScopeRef.jsSafe=!1;var Q=e.name;if(1==f.length){var K=this.getVar(f[0].name);K.isArray?Q+="$"+Ee(K.arrayType):Q+="$"+Ee(K.type),this.compileExpr(f[0],t,-1),t.push(21);var ee=this.getFuncIndex(Q,[]);t.push(ee),t.push(f.length),this.compileMemberAttrib(f[0],K,t)}else this.erro("o leia deve receber uma variável como argumento");return oe}for(var te=e.name,ae=[],ie=0;ie<f.length;ie++)ae.push(this.compileExpr(f[ie],t,-1));t.push(21);var ne=this.getFuncIndex(te,ae),se=this.functions[ne];if(this.funcScopeRef.addFuncCall(se),t.push(ne),t.push(f.length),0!=ne)for(var de=f.length-1;de>=0;de--)if(se.parameters[de].byRef&&se.parameters[de].id!=qt){var me=this.getVar(f[de].name);this.compileMemberAttrib(f[de],me,t)}return se.type;case re:var fe=this.getVar(e.name);return t.push(fe.global?41:Me),t.push(fe.index),fe.type;case xe:return t.push(1),t.push(this.baseParseInt(e.value)),ce;case Te:return t.push(1),t.push(parseFloat(e.value)),le;case Ae:return t.push(1),t.push(e.value),pe;case Se:return t.push(1),t.push(e.value),ue;case ke:return t.push(1),t.push("verdadeiro"==e.value?0:1),he;case W:for(var ve=0;ve<e.expr.length;ve++){var ye=this.compileExpr(e.expr[ve],t,ce);ye==oe?(this.erro("a expressão que indica a posição do vetor não retorna valor nenhum"),t.push(1),t.push(0)):ye!=ce&&this.erro("para acessar um vetor ou matriz, deve informar um valor numérico do tipo inteiro.")}var ge=this.getVar(e.name);return t.push(ge.global?53:50),t.push(ge.index),t.push(e.expr.length),e.expr.length!=ge.arrayDim&&this.erro("sua matriz é de "+ge.arrayDim+" dimensões, porém indexou "+e.expr.length+" dimensões."),ge.arrayType;case X:for(var _e=e.name,be=e.expr,Ce=!1,we=0;we<this.incluas.length;we++)if(this.incluas[we].name==_e||this.incluas[we].alias==_e){_e=this.incluas[we].name,Ce=!0;break}Ce||this.erro("a biblioteca "+_e+" não foi inclusa no programa");var Le=this.libraries[_e];if(!Le)return this.erro("a biblioteca "+_e+" não existe."),oe;if(Le.members[be.name]||this.erro("a biblioteca "+_e+" não tem nenhuma variável ou função '"+be.name+"'"),Le.members[be.name].id==re&&be.op==Y&&this.erro("está usando a variável '"+be.name+"' como se fosse uma função."),Le.members[be.name].id==Y&&be.op==re&&this.erro("está usando a fução '"+be.name+"' como se fosse uma variável."),be.op==re)t.push(54),t.push(_e),t.push(be.name);else if(be.op==Y){var Oe=Le.members[be.name].parameters;Oe.length!=be.args.length&&this.erro("a função "+be.name+" espera "+Oe.length+" argumentos, foram passados apenas "+be.args.length);for(var je=0;je<be.args.length;je++){var Ie=this.compileExpr(be.args[je],t,Oe[je].type);aa(Oe[je].type,Ie,P)||this.erro("a função "+be.name+" esperava o tipo "+Ee(Oe[je].type)+" no parâmetro "+Oe[je].name+" porém foi fornecido o tipo "+Ee(Ie))}Le.members[be.name].jsSafe||(console.log("Marcou como unsafe porque chamou a função da biblioteca "+be.name),this.funcScopeRef.jsSafe=!1),t.push(55),t.push(_e),t.push(be.name),t.push(be.args.length)}return Le.members[be.name].type}}},{key:"baseParseInt",value:function(e){return e=e.toUpperCase(),/^[1-9][0-9]*$/.test(e)||"0"==e?parseInt(e,10):/^0[0-9]+$/.test(e)?parseInt(e.substring(1,e.length),10):/^0X[0-9A-F]+$/.test(e)?parseInt(e.substring(2,e.length),16):/^0B[01]+$/.test(e)?parseInt(e.substring(2,e.length),2):(this.erro("número inteiro escrito em formato desconhecido:'"+e+"'"),parseInt(e))}}]),e}();function ua(e){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function pa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==ua(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,"string");if("object"!==ua(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===ua(i)?i:String(i)),r)}var i}function la(e){switch(e){case ce:return"i";case ue:return"c";case pe:return"s";case le:return"f";case he:return"b";case de:return"vi";case 102:return"vc";case 103:return"vs";case 104:return"vf";case 105:return"vb";case me:return"mi";case 107:return"mc";case 108:return"ms";case 109:return"mf";case fe:return"mb";case ve:return"v";case ye:return"m"}}var ha=function(){function e(t,a,r,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.codeTree=t,this.tokens=r,this.textInput=i,this.libraries=a,this.saida="",this.incluas=[],this.scope=!1,this.functions=[],this.currentFunctionRetType=oe,this.globalPrefix="JS_",this.isnewLine=!0,this.gen_output="",this.tabs="",this.saved_gen_output=[],this.enviarErro=n}var t,a;return t=e,a=[{key:"erro",value:function(e){this.enviarErro?this.enviarErro(this.textInput,{index:this.lastIndex},e,"exec"):console.log("ERRO NO JSGENERATOR:",e)}},{key:"save_gen",value:function(){this.saved_gen_output.push({gen_output:this.gen_output,isnewLine:this.isnewLine,tabs:this.tabs}),this.isnewLine=!0,this.gen_output="",this.tabs=""}},{key:"load_gen",value:function(){var e=this.gen_output;if(this.saved_gen_output.length>0){var t=this.saved_gen_output.pop();this.gen_output=t.gen_output,this.isnewLine=t.isnewLine,this.tabs=t.tabs}else this.isnewLine=!0,this.gen_output="",this.tabs="";return e}},{key:"gen",value:function(){this.isnewLine?(this.gen_output+=this.tabs,this.isnewLine=!1):this.gen_output+=" ";for(var e=0;e<arguments.length;e++)0!=e&&(this.gen_output+=" "),this.gen_output+=e<0||arguments.length<=e?void 0:arguments[e]}},{key:"genln",value:function(){this.isnewLine?(this.gen_output+=this.tabs,this.isnewLine=!1):this.gen_output+=" ";for(var e=0;e<arguments.length;e++)0!=e&&(this.gen_output+=" "),this.gen_output+=e<0||arguments.length<=e?void 0:arguments[e];this.gen_output+="\n",this.isnewLine=!0}},{key:"increaseTabLevel",value:function(){this.tabs+="\t"}},{key:"decreaseTabLevel",value:function(){this.tabs=this.tabs.substring(0,this.tabs.length-1)}},{key:"getFuncOverloadsTypeString",value:function(e){for(var t,a=e.name,r=e.parameters,i=0;i<r.length;i++)if(r[i].id==qt){var n=r[i].size_expr.length;a+=la((t=r[i].type,1==n?t+5:t+10))}else a+=la(r[i].type);return a}},{key:"compile",value:function(){var e=this.codeTree.funcoes,t=this.codeTree.variaveis;this.incluas=this.codeTree.incluas,this.scope=new sa(this.scope,!0,!1),this.functions=[{name:"$undefined",parameters:[],type:oe},{name:"escreva",jsName:"escreva",parameters:[],type:oe},{name:"limpa",jsName:"limpa",parameters:[],type:oe},{name:"leia$inteiro",parameters:[],type:oe},{name:"leia$real",parameters:[],type:oe},{name:"leia$cadeia",parameters:[],type:oe},{name:"leia$caracter",parameters:[],type:oe},{name:"leia$logico",parameters:[],type:oe},{name:"sorteia",jsName:"sorteia",parameters:[{id:1,index:0,type:ce,isConst:!1,byRef:!1,expr:!1,name:"a"},{id:1,index:0,type:ce,isConst:!1,byRef:!1,expr:!1,name:"a"}],type:ce}];var a={name:"#globalInit",overloaded:!0,overloadedName:"globalInit"};this.currentFunctionRetType=oe,this.genln("function","()"),this.genln("{"),this.increaseTabLevel(),this.compileStatements(t),this.decreaseTabLevel(),this.genln("}");var r=this.load_gen();a.jsName=this.globalPrefix+a.overloadedName,console.log(a.jsName+" = "+r),window[a.jsName]=new Function("return "+r)(),this.functions.push(a);for(var i=0;i<e.length;i++){for(var n={name:e[i].name,parameters:e[i].parameters,type:e[i].type,statements:e[i].statements,overloaded:!1,overloadedName:!1},o=0;o<e.length;o++)i!=o&&n.name==e[o].name&&(n.overloaded=!0,n.overloadedName=this.getFuncOverloadsTypeString(n));this.functions.push(n)}for(var s=0;s<this.functions.length;s++){var c=this.functions[s];if(c.statements){var u=c.name,p=c.parameters;c.overloaded&&(u=c.overloadedName),this.currentFunctionRetType=c.type,this.gen("function","("),this.scope=new sa(this.scope,!1,!1);for(var l=0;l<p.length;l++){if(0!=l&&this.gen(","),p[l].id==qt){var h=p[l].size_expr.length;this.createVar(p[l].name,p[l].type,p[l].isConst,!0,h)}else this.createVar(p[l].name,p[l].type,p[l].isConst,!1);this.gen(p[l].name)}this.genln(")"),this.compileStatements(c.statements),this.scope=this.scope.parentScope,this.genln();var d=this.load_gen();c.jsName=this.globalPrefix+u,console.log(c.jsName+" = "+d),window[c.jsName]=new Function("return "+d)()}}this.scope=this.scope.parentScope}},{key:"getFuncIndex",value:function(e,t){for(var a=0;a<this.functions.length;a++)if(this.functions[a].name==e){var r=this.functions[a].parameters;if(r.length!=t.length)continue;for(var i=!0,n=0;n<r.length;n++){var o=r[n].type;if(r[n].id==qt){var s=r[n].size_expr.length;1==s&&(o=ge(o)),2==s&&(o=_e(o))}if(!aa(o,t[n],P)){i=!1;break}}if(!i)continue;return a}return this.erro("a função '"+e+"' com "+t.length+" argumentos e tipos:"+t+" não foi encontrada"),0}},{key:"createVar",value:function(e,t,a,r,i){var n=this.scope.getVar(e);if(n)return this.erro("a variável '"+e+"' já foi declarada"),n;var o=t;return r&&(1==i?o=ge(t):2==i?o=_e(t):this.erro("Matrizes com 3 ou mais dimensões não suportados:"+i)),n={type:o,name:e,index:this.scope.globalScope?this.scope.globalCount:this.scope.varCount,global:this.scope.globalScope,isConst:a,isArray:r,arrayType:r?t:oe,arrayDim:i},this.scope.createVar(e,n),n}},{key:"getVar",value:function(e){return this.scope.getVar(e)||(this.erro("não encontrou a variável '"+e+"', esqueceu de declará-la?"),this.createVar(e,pe,!1,!1))}},{key:"compileDeclArray",value:function(e,t,a){for(var r=0;r<e.length;r++)0!=r&&this.gen(","),a<=1?this.compileExpr(e[r],t):this.compileDeclArray(e[r],t,a-1)}},{key:"compileForStatements",value:function(e){for(var t=0;t<e.length;t++){var a=e[t];switch(a.id){case 1:this.createVar(a.name,a.type,a.isConst,!1),this.gen("var",a.name),a.expr&&(this.gen("="),this.compileExpr(a.expr,a.type));break;case 2:this.compileExpr(a.expr,oe)}}}},{key:"compileStatements",value:function(e){for(var t=0;t<e.length;t++){var a=e[t];switch(this.lastIndex=a.index,a.id){case qt:var r=a.size_expr.length,i=this.createVar(a.name,a.type,a.isConst,!0,r);if(i.global?this.gen("VM_globals["+i.index+"] ="):this.gen("var",a.name,"="),a.expr)13==a.expr.id?(this.gen("["),this.compileDeclArray(a.expr.expr,a.type,r),this.genln("];")):2==a.expr.id&&(this.compileExpr(a.expr.expr,i.type),this.genln(";"));else{this.gen("recursiveDeclareArray([");for(var n=0;n<a.size_expr.length;n++)0!=n&&this.gen(","),this.compileExpr(a.size_expr[n],ce);this.genln("],"+ta(a.type,i.global)+",0);")}break;case 1:var o=this.createVar(a.name,a.type,a.isConst,!1);o.global?this.gen("VM_globals["+o.index+"]"):this.gen("var",a.name),a.expr?(this.gen("="),this.compileExpr(a.expr,a.type,!1,o.global),this.genln(";")):this.genln("= false;");break;case 2:this.compileExpr(a.expr,oe),this.genln(";");break;case 3:this.genln("{"),this.scope=new sa(this.scope,!1,!1),this.increaseTabLevel(),this.compileStatements(a.statements),this.scope=this.scope.parentScope,this.decreaseTabLevel(),this.genln("}");break;case 4:this.gen("if("),this.compileExpr(a.expr,he),this.genln(")"),this.compileStatements(a.statements_true),a.statements_false&&(this.genln("else"),this.compileStatements(a.statements_false));break;case 5:this.gen("while("),this.compileExpr(a.expr,he),this.genln(")"),this.compileStatements(a.statements);break;case 6:this.genln("do"),this.compileStatements(a.statements),this.gen("while("),this.compileExpr(a.expr,he),this.genln(");");break;case 7:this.gen("for("),this.scope=new sa(this.scope,!1,!1),a.decl&&this.compileForStatements(a.decl),this.gen(";"),a.expr&&this.compileExpr(a.expr,he),this.gen(";"),a.inc&&this.compileExpr(a.inc,oe),this.genln(")"),this.compileStatements(a.statements),this.scope=this.scope.parentScope;break;case 8:this.genln("break;");break;case 9:this.gen("return"),this.compileExpr(a.expr,this.currentFunctionRetType),this.genln(";");break;case 11:this.gen("switch("),this.compileExpr(a.expr,-1),this.genln(")"),this.compileStatements(a.statements);break;case 12:a.contrario?this.gen("default"):(this.gen("case"),this.compileExpr(a.expr,-1)),this.genln(":")}}}},{key:"tryConvertType",value:function(e,t,a){return e==pe?t==ce?"VM_i2s("+a+")":t==le?"VM_f2s("+a+")":t==he?"VM_realbool2s("+a+")":a:e==ce&&t==le?"Math.trunc("+a+")":a}},{key:"compileExpr",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return oe;var i=oe;if(this.save_gen(),2==e.length){var n=K(e[0].op)&&ee(e[0].op)<ee(e.op),o=K(e[1].op)&&ee(e[1].op)<=ee(e.op);this.save_gen(),n&&this.gen("(");var s=this.compileExpr(e[0],-1,!0);n&&this.gen(")");var c=this.load_gen();this.save_gen(),o&&this.gen("(");var u=this.compileExpr(e[1],-1);o&&this.gen(")");var p=this.load_gen();if(i=ra(s,u),e.op==N||e.op==V||e.op==j||8==e.op||e.op==R||9==e.op||e.op==F||e.op==M)i=he;else if(Z(e.op)){var l=this.getVar(e[0].name);i=s,p=s==he&&l.global?"("+p+"? 0 : 1)":this.tryConvertType(s,u,p)}else i==pe&&(c=this.tryConvertType(i,s,c),p=this.tryConvertType(i,u,p));var h=c;e.op==N?h+=" && ":e.op==V?h+=" || ":h+=" "+y(e.op)+" ",h+=p,i==ce&&6==e.op&&(h=this.tryConvertType(ce,le,h)),i==ce&&e.op==w?this.gen(c," = ",this.tryConvertType(ce,le,h)):this.gen(h)}else switch(e.op){case D:this.gen("!(");var d=this.compileExpr(e[0],-1);this.gen(")"),i=d;break;case x:i=this.compileExpr(e[0],-1);break;case k:this.gen("(-");var m=this.compileExpr(e[0],-1);this.gen(")"),i=m;break;case _:var f=this.compileExpr(e[0],-1);this.gen("++"),i=f;break;case b:this.gen("++");var v=this.compileExpr(e[0],-1);i=v;break;case T:var g=this.compileExpr(e[0],-1);this.gen("--"),i=g;break;case A:this.gen("--");var E=this.compileExpr(e[0],-1);i=E;break;case J:this.gen("~(");var S=this.compileExpr(e[0],-1);this.gen(")"),i=S;break;case Y:for(var C=e.args,L=e.name,O=[],I=[],P=0;P<C.length;P++)this.save_gen(),O.push(this.compileExpr(C[P],-1)),I.push(this.load_gen());var B=oe,U=[];if("escreva"==L)for(var z=0;z<C.length;z++)U.push(pe);else if("sorteia"==L)U=[ce,ce],B=ce;else if("leia"==L)U=[-1];else{var G=this.getFuncIndex(L,O),q=this.functions[G];B=q.type,L=q.overloaded?q.overloadedName:q.name,L=this.globalPrefix+L}this.gen(L+"(");for(var H=0;H<C.length;H++)0!=H&&this.gen(","),this.gen(this.tryConvertType(U[H],O[H],I[H]));this.gen(")"),i=B;break;case re:var $=this.getVar(e.name);$.global?a||$.type!=he?this.gen("VM_globals["+$.index+"]"):this.gen("(VM_globals["+$.index+"] == 0)"):this.gen(e.name),i=$.type;break;case xe:this.gen(this.baseParseInt(e.value)),i=ce;break;case Te:this.gen(parseFloat(e.value)),i=le;break;case Ae:this.gen('"'+Ce(e.value)+'"'),i=pe;break;case Se:this.gen('"'+Ce(e.value)+'"'),i=ue;break;case ke:this.gen("verdadeiro"==e.value?"true":"false"),i=he;break;case W:var Q=this.getVar(e.name);Q.global?a||Q.arrayType!=he?this.gen("VM_globals["+Q.index+"]"):this.gen("(VM_globals["+Q.index+"]"):this.gen(e.name);for(var te=0;te<e.expr.length;te++)this.gen("["),this.compileExpr(e.expr[te],ce),this.gen("]");Q.global&&!a&&Q.arrayType==he&&this.gen(" == 0)"),i=Q.arrayType;break;case X:for(var ae=e.name,ie=e.expr,ne=!1,se=0;se<this.incluas.length;se++)if(this.incluas[se].name==ae||this.incluas[se].alias==ae){ae=this.incluas[se].name,ne=!0;break}ne||this.erro("a biblioteca "+ae+" não foi inclusa no programa");var de=this.libraries[ae];if(!de)return this.erro("a biblioteca "+ae+" não existe."),oe;if(de.members[ie.name]||this.erro("a biblioteca "+ae+" não tem nenhuma variável ou função '"+ie.name+"'"),de.members[ie.name].id==re&&ie.op==Y&&this.erro("está usando a variável '"+ie.name+"' como se fosse uma função."),de.members[ie.name].id==Y&&ie.op==re&&this.erro("está usando a fução '"+ie.name+"' como se fosse uma variável."),ie.op==re)this.gen('VM_libraries["'+ae+'"].'+ie.name);else if(ie.op==Y){this.gen('VM_libraries["'+ae+'"].'+ie.name+"(");var me=de.members[ie.name].parameters;me.length!=ie.args.length&&this.erro("a função "+ie.name+" espera "+me.length+" argumentos, foram passados apenas "+ie.args.length);for(var fe=0;fe<ie.args.length;fe++)0!=fe&&this.gen(","),me[fe].type==he&&this.gen("("),this.compileExpr(ie.args[fe],me[fe].type),me[fe].type==he&&this.gen("? 0 : 1)");this.gen(")"),de.members[ie.name].type!=oe&&this.gen(".value")}i=de.members[ie.name].type}var ve=this.load_gen();return t==he&&r?this.gen("("+ve+"? 0 : 1)"):this.gen(this.tryConvertType(t,i,ve)),i}},{key:"baseParseInt",value:function(e){return e=e.toUpperCase(),/^[1-9][0-9]*$/.test(e)||"0"==e?parseInt(e,10):/^0[0-9]+$/.test(e)?parseInt(e.substring(1,e.length),10):/^0X[0-9A-F]+$/.test(e)?parseInt(e.substring(2,e.length),16):/^0B[01]+$/.test(e)?parseInt(e.substring(2,e.length),2):(this.erro("número inteiro escrito em formato desconhecido:'"+e+"'"),parseInt(e))}}],a&&pa(t.prototype,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),da={};function ma(e,t,a){da[e]?console.log("Tentando agendar novamente o timeout '"+e+"' antes de executar o anterior"):da[e]=setTimeout((function(){da[e]=!1,t()}),a)}function fa(e){da[e]&&(clearTimeout(da[e]),da[e]=!1)}function va(e,t){"undefined"!=typeof Storage&&localStorage&&localStorage.setItem(e,t)}function ya(e){return!("undefined"==typeof Storage||!localStorage)&&localStorage.getItem(e)}var ga=window.ace;ga.config.set("basePath","/lib/ace-src-min-noconflict/");var _a,ba,Ea,xa,Ta,Aa=document.getElementById("textAreaSaida"),Sa=document.getElementById("errorArea"),ka=Aa,Ca=document.getElementById("myCanvasModal"),wa=document.getElementById("myCanvasWindow"),La=document.getElementById("myCanvasWindowTitle"),Oa=document.getElementById("myCanvas"),ja=document.getElementById("myCanvasKeys"),Ia=10,Ra=(ba=!1,_a=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(_a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(_a.substr(0,4)))&&(ba=!0),ba),Ma=document.getElementById("hotbar"),Da=200,Fa=40,Pa=80,Na=120,Ba=295,Ua=Pa,Va=!1,za=!1,Ga=!1,qa=0,Ha=0,Ja=!1,Xa={},Ya=ga.edit("myEditor",{minLines:10,fontSize:Ia+"pt",useSoftTabs:!1,navigateWithinSoftTabs:!1});function $a(e,t){if(t&&7==qa)return Ua<Ba&&Lr(Ba,!0),void Sr();if(Ja=t,"Executar"==e.value&&0==qa){jr(),gr(),ut(),Ua<Ba&&Lr(Ba,!0);var a=Ya.getValue();try{var r=Tr(a,!0);if(!r.success)return;!function(e,t,a,r,i,n,o){We=e,Qe=t,at=i,Ke=a,Ze="",tt=n,nt=0,ut(),Ye=[],$e=new Array(r),ot=o;for(var s=0;s<We.length;s++)if("#globalInit"==We[s].name){ze=We[Xe=s].bytecode,Ge=0,qe=new Array(100),He=0,Je=new Array(We[Xe].varCount);break}}(r.compiler.functions,r.jsgenerator.functions,Xa,r.compiler.globalCount,a,ka,_r),Ha=performance.now()}catch(e){var i=e.stack||e.stacktrace||"";return console.log(i),void _r(a,{index:0},"Erro na compilação:"+e,"compilador")}e.value="Parar",Sr()}else t||("Parar"!=e.value||4!=qa&&1!=qa&&2!=qa&&5!=qa&&6!=qa&&7!=qa&&8!=qa?"Parando..."==e.value&&3==qa?qa=3:(console.log("botão estava em estado inconsistente: lastvmState:'"+qa+"' e valor:'"+e.value+"'"),e.value=0==qa?"Executar":3==qa?"Parando...":"Parar"):(e.value="Parando...",1==qa||7==qa||8==qa||5==qa||6==qa?(7==qa&&fa("STATE_STEP"),5!=qa&&6!=qa||fa("STATE_DELAY"),ct("\n\nPrograma interrompido pelo usuário. Tempo de execução:"+Math.trunc(performance.now()-Ha)+" milissegundos"),Ar()):4==qa||2==qa?qa=3:console.log("botão estava em estado inconsistente: lastvmState:'"+qa+"' e valor:'"+e.value+"'")))}function Wa(e){var t,a,r;"aleatorio"==e&&(e+=Math.floor(4*Math.random())),t="exemplos/"+e+".por",a=function(e){Ya.setValue(e,-1),gr()},r||(r={}),r.method="GET",fetch(t,r).then((function(e){if(!e.ok){var t=e.status;return Promise.reject(t)}return e.text()})).then((function(e){if(!e)return Promise.reject("Resposta Vazia");a(e)})),document.getElementById("modalExemplos").style.display="none"}function Qa(e){e?Er():(xr(),Ra&&Ua>Na&&Lr(Na,!0))}function Ka(e){var t;t=0==qa&&e.checked,Ue=t,e.checked=Ve(),console.log("Modo: "+(Ve()?"Modo Turbo":"Modo Normal"))}function Za(e){Ya.setOptions({enableBasicAutocompletion:e,enableLiveAutocompletion:e})}function er(e){e.className="clicou",$a(document.getElementById("btn-run"),!0),e.className="segurando"}function tr(e){fa("STATE_STEP"),e.className=""}function ar(e){e.preventDefault(),e.stopPropagation(),Oa.focus()}function rr(e){e.preventDefault(),e.stopPropagation(),Ya.focus()}function ir(){Ia++,Ya.setOptions({fontSize:Ia+"pt"}),ka.style.fontSize=Ia+"pt",Sa.style.fontSize=Ia+"pt"}function nr(){Ia--,Ya.setOptions({fontSize:Ia+"pt"}),ka.style.fontSize=Ia+"pt",Sa.style.fontSize=Ia+"pt"}function or(){var e=Ya.getValue();if(e=e.replace(/\r\n/g,"\n"),"undefined"!=typeof Android)Android.save(e);else{var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","programa.por"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}}function sr(){if("undefined"!=typeof Android)Android.load();else{var e=document.createElement("input");e.setAttribute("type","file"),e.style.display="none",document.body.appendChild(e),e.click(),e.addEventListener("change",(function(){var t=e.files[0],a=new FileReader;a.onload=function(e){Ya.setValue(this.result,-1),gr()},a.readAsText(t),document.body.removeChild(e)}))}}function cr(e){Ya.onCommandKey({},0,e)}function ur(e){Ya.onTextInput(e)}function pr(e){var t=e.value.length;e.selectionStart=t,e.selectionEnd=t}function lr(e){if(1==qa){var t=e.value;t.substring(et().length,t.length).endsWith("\n")&&Sr()}else ka.value=et()}Ma.addEventListener("touchstart",kr,!1),Ma.addEventListener("touchend",Cr,!1),Ma.addEventListener("touchmove",wr,!1),Ma.addEventListener("mousedown",kr,!1),window.addEventListener("mouseup",Cr,!1),window.addEventListener("mousemove",wr,!1),window.addEventListener("resize",Or),Xa.Util=new Vt,Xa.Calendario=new je,Xa.Matematica=new Tt,Xa.Texto=new Dt,Xa.Teclado=new It(Oa),Xa.Graficos=new yt(Oa,Ca,wa,La,ja,Xa.Teclado),Xa.Teclado.libGraficos=Xa.Graficos,Xa.Mouse=new kt(Oa),Xa.Objetos=new Lt,Xa.Tipos=new Nt,Xa.Internet=new bt,Ra&&(Ia=9),console.log(ga),Ya.setTheme("ace/theme/portugol_dark"),Ya.session.setMode("ace/mode/portugol"),Or(),Ra&&(Ya.renderer.setShowGutter(!1),"undefined"==typeof Android&&Ya.setValue('programa\n{\n\tfuncao inicio()\n\t{\n\t\t\n\t\tescreva("Baixe o aplicativo na play store:\\n")\n\t\tescreva("https://play.google.com/store/apps/details?id=br.erickweil.portugolweb \\n")\n\t\t\n\t}\n}\n',-1)),Ya.setOptions({enableBasicAutocompletion:!0,enableSnippets:!1,enableEmmet:!1,enableLiveAutocompletion:!0,scrollPastEnd:.5});var hr,dr=new Wt(Xa),mr=ga.require("ace/ext/language_tools");mr.setCompleters(),mr.addCompleter(dr),Ya.commands.on("afterExec",(function(e){"insertstring"==e.command.name&&/^[\.]$/.test(e.args)&&Ya.execCommand("startAutocomplete")})),(hr=function(){var e=ya("code"),t=ya("mostrarHotbar"),a=ya("autoComplete"),r=ya("modoTurbo");return"string"==typeof a?(a=""+a=="true",document.getElementById("check-auto-completar").checked=a,Za(a)):document.getElementById("check-auto-completar").checked=!0,"string"==typeof r?(r=""+r=="true",document.getElementById("check-modo-turbo").checked=r,Ka(document.getElementById("check-modo-turbo"))):document.getElementById("check-modo-turbo").checked=Ve(),"string"==typeof t&&(t=""+t=="true",document.getElementById("check-mostrar-hotbar").checked=t,Qa(t)),e}())&&Ya.setValue(hr,-1),ka.style.fontSize=Ia+"pt",Sa.style.fontSize=Ia+"pt";var fr=[],vr=[],yr=ga.require("ace/range").Range;function gr(e){Sa.innerHTML="";for(var t=0;t<vr.length;t++)Ya.getSession().removeMarker(vr[t]);if(vr=[],e){var a=fr;fr=[],Ya.getSession().setAnnotations(fr);for(var r=0;r<a.length;r++)e.includes(a[r].myErrorType)||"error"!=a[r].type||br(a[r])}else fr=[],Ya.getSession().setAnnotations(fr)}function _r(e,t,r,i){var n=a(t.index,e),o=e.substring(e.lastIndexOf("\n",t.index)+1,t.index).replace(/\t/g,"    "),s=e.substring(t.index,e.indexOf("\n",t.index)),c=o.length,u="Linha "+n+":"+o;try{throw"ERRO"}catch(e){var p=e.stack||e.stacktrace||"";console.log(p)}console.log("token index:"+t.index+" ... "+n+":"+c+" -> "+r),br({row:n-1,column:c,columnFim:c+s.length,textprev:u,textnext:s,text:r,type:"error",myErrorType:i})}function br(e){e&&(e.text&&(Sa.innerHTML+=p(e.text)+"\n"),e.textprev&&e.textnext&&(Sa.innerHTML+=p(e.textprev+e.textnext)+"\n",Sa.innerHTML+=" ".repeat(e.textprev.length)+"^\n\n"),fr.push(e),Ya.getSession().setAnnotations(fr),vr.push(Ya.getSession().addMarker(new yr(e.row,0,e.row,e.columnFim),"ace_erroportugol-marker","screenLine")))}function Er(){Da=200,Fa=40,Na=120,Ba=295,Ua=Pa=80,document.getElementById("hotbar_commands").style.display="block",document.getElementById("hotbar_keys").style.display="block",document.getElementById("check-mostrar-hotbar").checked=!0,Lr(Na)}function xr(){Da=120,Fa=40,Pa=0,Na=40,Ba=215,Ua=0,document.getElementById("hotbar_commands").style.display="none",document.getElementById("hotbar_keys").style.display="none",document.getElementById("check-mostrar-hotbar").checked=!1,Lr(Ba)}function Tr(e,t){var a,r=performance.now(),i=r,n=0,o=0,s=0;try{var c=fr.length;e=e.replace(/\r\n/g,"\n"),i=performance.now();var u=new we(e,_r);if(u.tokenize(),n=Math.trunc(performance.now()-i),i=performance.now(),fr.length>c){var p={success:!1,tokenizer:u};return dr.setCompiler(p),p}var l=u.getRelevantTokens(),h=new Xt(l,e,_r).parse();if(o=Math.trunc(performance.now()-i),i=performance.now(),fr.length>c){var d={success:!1,tokenizer:u,tree:h};return dr.setCompiler(d),d}for(var m=Object.keys(Xa),f=0;f<m.length;f++)Xa[m[f]].resetar();var v=new ca(h,Xa,l,e,ka,_r);if(v.compile(),s=Math.trunc(performance.now()-i),i=performance.now(),fr.length>c){var y={success:!1,tokenizer:u,tree:h,compiler:v};return dr.setCompiler(y),y}var g={functions:!1};if(t&&Ve())try{(g=new ha(h,Xa,l,e,_r)).compile()}catch(e){var _=e.stack||e.stacktrace||"";console.log(_)}var b={success:!0,tokenizer:u,tree:h,compiler:v,jsgenerator:g};return dr.setCompiler(b),b}finally{a=(r=Math.trunc(performance.now()-r))-(n+o+s),console.log("Compilou: Tempo de execução:"+r+" milissegundos \n[token:"+n+" ms,tree:"+o+" ms,compiler:"+s+" ms, other:"+a+"]")}}function Ar(){qa=0,document.getElementById("btn-run").value="Executar",Ca.style.display="none",Xa.Graficos.telaCheia&&Xa.Graficos.encerrar_modo_grafico()}function Sr(){if(3==qa)return ct("\n\nPrograma interrompido pelo usuário. Tempo de execução:"+Math.trunc(performance.now()-Ha)+" milissegundos"),void Ar();if(qa=4,Ja){var e=ht(),t=e;gr(),!0,o=a(n=e,i=at),s=i.substring(i.lastIndexOf("\n",n)+1,n).replace(/\t/g,"    "),c=i.substring(n,i.indexOf("\n",n)),p=(u=s.length)+c.length,fr.push({row:o-1,column:u,text:"",type:"information"}),Ya.getSession().setAnnotations(fr),vr.push(Ya.getSession().addMarker(new yr(o-1,0,o-1,p),"ace_realceportugol-marker","screenLine")),Ya.scrollToLine(o,!0,!0,(function(){}));do{qa=mt(1),t=e,e=ht()}while((0==e||e==t)&&2==qa);if(2==qa){qa=7;var r=document.getElementById("btn-step");"clicou"==r.className&&ma("STATE_STEP",Sr,1e3),"segurando"==r.className&&ma("STATE_STEP",Sr,100)}}else qa=mt(it);var i,n,o,s,c,u,p;0==qa?(ct("\n\nPrograma finalizado. Tempo de execução:"+Math.trunc(performance.now()-Ha)+" milissegundos"),Ar()):1==qa?(ka.focus(),pr(ka)):2==qa?ma("STATE_BREATHING",Sr,0):5!=qa&&6!=qa||ma("STATE_DELAY",Sr,Ne)}function kr(e){var t;t="touchstart"===e.type?-e.touches[0].clientY:-e.clientY,Ta=t,xa=t-Ua,e.target===Sa||(e.target===Aa?za=!0:e.target!==Ma&&"touchstart"===e.type||(Va=!0))}function Cr(e){if("touchend"!==e.type){if(!Va)return;Ma.style.cursor="grab"}xa=Ea,Ua>Na+30&&Ua<Ba?Lr(Ba,!0):Math.abs(Ua-Na)<30?Lr(Na,!0):Math.abs(Ua-Pa)<30?Lr(Pa,!0):Math.abs(Ua-Fa)<30?Lr(Fa,!0):Or(),Va=!1,za=!1,Ga=!1}function wr(e){var t=0;if("touchmove"===e.type)t=-e.touches[0].clientY;else{if(!Va)return;t=-e.clientY,Ma.style.cursor="grabbing"}Ea=t-xa;var a,i=Math.abs(Ta-t);if(Va)e.cancelable&&e.preventDefault();else{if(za&&(a=Aa).scrollTop!==a.scrollHeight-a.offsetHeight&&0!==a.scrollTop)return Ta=t,void(xa=t-Ua);if(i<20)return;Va=!0}Lr(Ea,!1,!0),Ga||function(){if(Ya){var e=r();document.getElementById("myEditor").style.height=e.height+"px",Ya.resize(),Aa.style.height=e.height+"px"}}(),Ga=!0}function Lr(e,t,a){t?Ma.classList.add("animate"):Ma.classList.remove("animate");var i=r();Ua=Math.max(Fa,e),Ua=Math.min(Ua,i.height-5),Ma.style.bottom=Ua-Da+"px",a||Or()}function Or(e){if(Ya){var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;document.getElementById("myEditor").style.height=t-Ua+"px",Ya.resize();var a="none"!=document.getElementById("hotbar_commands").style.display;Aa.style.height=a?Ua-130+"px":Ua-50+"px"}}function jr(){try{va("code",Ya.getValue()),va("autoComplete",document.getElementById("check-auto-completar").checked),va("modoTurbo",document.getElementById("check-modo-turbo").checked),va("mostrarHotbar",document.getElementById("check-mostrar-hotbar").checked)}catch(t){var e=t.stack||t.stacktrace||"";console.log(e)}}Ra?(document.body.classList.add("mobile"),Er()):xr(),window.onbeforeunload=function(){return""},setInterval(jr,3e4);var Ir=-1,Rr=-1;function Mr(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||0!=qa&&Xa.Graficos.telaCheia&&Xa.Graficos.sair_modo_tela_cheia()}setInterval((function(){if(document.getElementById("check-auto-completar").checked){Ha=performance.now();try{if(0==qa){var e=Ya.getValue(),t=e.length;if(Ir!=t)return void(Ir=t);if(Rr==t)return;Rr=t,gr(["sintatico","semantico","contexto"]),Tr(e,!1)}}catch(e){var a=e.stack||e.stacktrace||"";console.log(a)}}}),5e3),Ya.on("focus",(function(){Ra?Ua>Na&&Lr(Na,!0):Ua>Ba&&Lr(Ba,!0)})),Ya.focus(),document.addEventListener&&(window.addEventListener("resize",(function(){})),document.addEventListener("fullscreenchange",Mr,!1),document.addEventListener("mozfullscreenchange",Mr,!1),document.addEventListener("MSFullscreenChange",Mr,!1),document.addEventListener("webkitfullscreenchange",Mr,!1)),window.index=t})();